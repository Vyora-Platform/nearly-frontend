{"file_contents":{"client/src/components/BottomNav.tsx":{"content":"import { Home, Calendar, Users, Newspaper, User } from \"lucide-react\";\nimport { Link, useLocation } from \"wouter\";\n\nexport default function BottomNav() {\n  const [location] = useLocation();\n\n  const tabs = [\n    { path: \"/\", icon: Home, label: \"Home\" },\n    { path: \"/events\", icon: Calendar, label: \"Events\" },\n    { path: \"/groups\", icon: Users, label: \"Groups\" },\n    { path: \"/news\", icon: Newspaper, label: \"News\" },\n    { path: \"/profile\", icon: User, label: \"Profile\" },\n  ];\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50\">\n      <div className=\"max-w-md mx-auto flex justify-around items-center h-16 px-2\">\n        {tabs.map((tab) => {\n          const Icon = tab.icon;\n          const isActive = location === tab.path;\n          return (\n            <Link key={tab.path} href={tab.path}>\n              <button\n                data-testid={`nav-${tab.label.toLowerCase()}`}\n                className=\"flex flex-col items-center justify-center gap-1 px-3 py-2 min-w-[60px]\"\n              >\n                <Icon\n                  className={`w-6 h-6 ${\n                    isActive ? \"text-primary\" : \"text-muted-foreground\"\n                  }`}\n                  fill={isActive ? \"currentColor\" : \"none\"}\n                />\n                <span\n                  className={`text-xs ${\n                    isActive\n                      ? \"text-gradient-primary font-semibold\"\n                      : \"text-muted-foreground\"\n                  }`}\n                >\n                  {tab.label}\n                </span>\n              </button>\n            </Link>\n          );\n        })}\n      </div>\n    </nav>\n  );\n}\n","size_bytes":1680},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, integer, timestamp, boolean } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  name: text(\"name\").notNull(),\n  bio: text(\"bio\"),\n  location: text(\"location\"),\n  interests: text(\"interests\").array(),\n  avatarUrl: text(\"avatar_url\"),\n  followersCount: integer(\"followers_count\").default(0),\n  followingCount: integer(\"following_count\").default(0),\n  postsCount: integer(\"posts_count\").default(0),\n});\n\nexport const activities = pgTable(\"activities\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  imageUrl: text(\"image_url\"),\n  location: text(\"location\"),\n  startDate: timestamp(\"start_date\"),\n  endDate: timestamp(\"end_date\"),\n  maxParticipants: integer(\"max_participants\"),\n  visibility: text(\"visibility\").notNull(),\n  cost: text(\"cost\"),\n  category: text(\"category\"),\n  likesCount: integer(\"likes_count\").default(0),\n  commentsCount: integer(\"comments_count\").default(0),\n  participantsCount: integer(\"participants_count\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const events = pgTable(\"events\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\"),\n  imageUrl: text(\"image_url\"),\n  location: text(\"location\").notNull(),\n  startDate: timestamp(\"start_date\").notNull(),\n  endDate: timestamp(\"end_date\"),\n  maxAttendees: integer(\"max_attendees\"),\n  visibility: text(\"visibility\").notNull(),\n  entryType: text(\"entry_type\").notNull(),\n  price: integer(\"price\"),\n  category: text(\"category\").array(),\n  attendeesCount: integer(\"attendees_count\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const groups = pgTable(\"groups\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  name: text(\"name\").notNull(),\n  description: text(\"description\"),\n  imageUrl: text(\"image_url\"),\n  groupType: text(\"group_type\").notNull(),\n  category: text(\"category\"),\n  rules: text(\"rules\"),\n  membersCount: integer(\"members_count\").default(0),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const news = pgTable(\"news\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  headline: text(\"headline\").notNull(),\n  description: text(\"description\"),\n  imageUrl: text(\"image_url\"),\n  location: text(\"location\"),\n  category: text(\"category\").notNull(),\n  trueVotes: integer(\"true_votes\").default(0),\n  fakeVotes: integer(\"fake_votes\").default(0),\n  likesCount: integer(\"likes_count\").default(0),\n  commentsCount: integer(\"comments_count\").default(0),\n  publishedAt: timestamp(\"published_at\").defaultNow(),\n});\n\nexport const messages = pgTable(\"messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  senderId: varchar(\"sender_id\").notNull(),\n  recipientId: varchar(\"recipient_id\"),\n  groupId: varchar(\"group_id\"),\n  content: text(\"content\").notNull(),\n  imageUrl: text(\"image_url\"),\n  messageType: text(\"message_type\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const notifications = pgTable(\"notifications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull(),\n  type: text(\"type\").notNull(),\n  title: text(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  actionUrl: text(\"action_url\"),\n  relatedId: varchar(\"related_id\"),\n  relatedUserIds: text(\"related_user_ids\").array(),\n  isRead: boolean(\"is_read\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const eventGuests = pgTable(\"event_guests\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  eventId: varchar(\"event_id\").notNull(),\n  userId: varchar(\"user_id\").notNull(),\n  status: text(\"status\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const eventComments = pgTable(\"event_comments\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  eventId: varchar(\"event_id\").notNull(),\n  userId: varchar(\"user_id\").notNull(),\n  content: text(\"content\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const groupMembers = pgTable(\"group_members\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  groupId: varchar(\"group_id\").notNull(),\n  userId: varchar(\"user_id\").notNull(),\n  role: text(\"role\").notNull().default(\"member\"),\n  joinedAt: timestamp(\"joined_at\").defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({ id: true });\nexport const insertActivitySchema = createInsertSchema(activities).omit({ id: true, createdAt: true });\nexport const insertEventSchema = createInsertSchema(events).omit({ id: true, createdAt: true });\nexport const insertGroupSchema = createInsertSchema(groups).omit({ id: true, createdAt: true });\nexport const insertNewsSchema = createInsertSchema(news).omit({ id: true, publishedAt: true });\nexport const insertMessageSchema = createInsertSchema(messages).omit({ id: true, createdAt: true });\nexport const insertNotificationSchema = createInsertSchema(notifications).omit({ id: true, createdAt: true });\nexport const insertEventGuestSchema = createInsertSchema(eventGuests).omit({ id: true, createdAt: true });\nexport const insertEventCommentSchema = createInsertSchema(eventComments).omit({ id: true, createdAt: true });\nexport const insertGroupMemberSchema = createInsertSchema(groupMembers).omit({ id: true, joinedAt: true });\n\nexport type User = typeof users.$inferSelect;\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type Activity = typeof activities.$inferSelect;\nexport type InsertActivity = z.infer<typeof insertActivitySchema>;\nexport type Event = typeof events.$inferSelect;\nexport type InsertEvent = z.infer<typeof insertEventSchema>;\nexport type Group = typeof groups.$inferSelect;\nexport type InsertGroup = z.infer<typeof insertGroupSchema>;\nexport type News = typeof news.$inferSelect;\nexport type InsertNews = z.infer<typeof insertNewsSchema>;\nexport type Message = typeof messages.$inferSelect;\nexport type InsertMessage = z.infer<typeof insertMessageSchema>;\nexport type Notification = typeof notifications.$inferSelect;\nexport type InsertNotification = z.infer<typeof insertNotificationSchema>;\nexport type EventGuest = typeof eventGuests.$inferSelect;\nexport type InsertEventGuest = z.infer<typeof insertEventGuestSchema>;\nexport type EventComment = typeof eventComments.$inferSelect;\nexport type InsertEventComment = z.infer<typeof insertEventCommentSchema>;\nexport type GroupMember = typeof groupMembers.$inferSelect;\nexport type InsertGroupMember = z.infer<typeof insertGroupMemberSchema>;\n","size_bytes":7124},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/lib/api.ts":{"content":"import { apiRequest } from \"./queryClient\";\nimport type { Activity, Event, Group, News, User } from \"@shared/schema\";\n\nexport const api = {\n  // Activities\n  getActivities: async (): Promise<Activity[]> => {\n    const res = await fetch(\"/api/activities\");\n    return res.json();\n  },\n  getActivity: async (id: string): Promise<Activity> => {\n    const res = await fetch(`/api/activities/${id}`);\n    return res.json();\n  },\n  createActivity: async (data: Partial<Activity>): Promise<Activity> => {\n    const res = await apiRequest(\"POST\", \"/api/activities\", data);\n    return res.json();\n  },\n  likeActivity: async (id: string, increment: boolean): Promise<{ success: boolean }> => {\n    const res = await apiRequest(\"POST\", `/api/activities/${id}/like`, { increment });\n    return res.json();\n  },\n\n  // Events\n  getEvents: async (): Promise<Event[]> => {\n    const res = await fetch(\"/api/events\");\n    return res.json();\n  },\n  getEvent: async (id: string): Promise<Event> => {\n    const res = await fetch(`/api/events/${id}`);\n    return res.json();\n  },\n  createEvent: async (data: Partial<Event>): Promise<Event> => {\n    const res = await apiRequest(\"POST\", \"/api/events\", data);\n    return res.json();\n  },\n\n  // Groups\n  getGroups: async (): Promise<Group[]> => {\n    const res = await fetch(\"/api/groups\");\n    return res.json();\n  },\n  getGroup: async (id: string): Promise<Group> => {\n    const res = await fetch(`/api/groups/${id}`);\n    return res.json();\n  },\n  createGroup: async (data: Partial<Group>): Promise<Group> => {\n    const res = await apiRequest(\"POST\", \"/api/groups\", data);\n    return res.json();\n  },\n\n  // News\n  getNews: async (): Promise<News[]> => {\n    const res = await fetch(\"/api/news\");\n    return res.json();\n  },\n  getNewsItem: async (id: string): Promise<News> => {\n    const res = await fetch(`/api/news/${id}`);\n    return res.json();\n  },\n  createNews: async (data: Partial<News>): Promise<News> => {\n    const res = await apiRequest(\"POST\", \"/api/news\", data);\n    return res.json();\n  },\n  voteNews: async (id: string, voteType: 'true' | 'fake', increment: boolean): Promise<{ success: boolean }> => {\n    const res = await apiRequest(\"POST\", `/api/news/${id}/vote`, { voteType, increment });\n    return res.json();\n  },\n  likeNews: async (id: string, increment: boolean): Promise<{ success: boolean }> => {\n    const res = await apiRequest(\"POST\", `/api/news/${id}/like`, { increment });\n    return res.json();\n  },\n\n  // Users\n  getUser: async (id: string): Promise<User> => {\n    const res = await fetch(`/api/users/${id}`);\n    return res.json();\n  },\n  getUserByUsername: async (username: string): Promise<User> => {\n    const res = await fetch(`/api/users/username/${username}`);\n    return res.json();\n  },\n  updateUser: async (id: string, data: Partial<User>): Promise<User> => {\n    const res = await apiRequest(\"PATCH\", `/api/users/${id}`, data);\n    return res.json();\n  },\n};\n","size_bytes":2935},"client/src/components/CreateGroupDialog.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { api } from \"@/lib/api\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface CreateGroupDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport function CreateGroupDialog({\n  open,\n  onOpenChange,\n}: CreateGroupDialogProps) {\n  const { toast } = useToast();\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [category, setCategory] = useState(\"Tech\");\n  const [groupType, setGroupType] = useState(\"Public\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!name.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Please enter a group name\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await api.createGroup({\n        name: name.trim(),\n        description: description.trim() || null,\n        category,\n        groupType,\n        imageUrl: null,\n        rules: \"Be respectful\",\n        membersCount: 0,\n        createdAt: new Date(),\n      });\n\n      queryClient.invalidateQueries({ queryKey: [\"/api/groups\"] });\n      \n      toast({\n        title: \"Success!\",\n        description: \"Group created successfully\",\n      });\n\n      setName(\"\");\n      setDescription(\"\");\n      setCategory(\"Tech\");\n      setGroupType(\"Public\");\n      onOpenChange(false);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create group. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Create Group</DialogTitle>\n          <DialogDescription>\n            Start a new community around shared interests\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit}>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"group-name\">Name *</Label>\n              <Input\n                id=\"group-name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"e.g., Kanpur Startups\"\n                data-testid=\"input-group-name\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"group-description\">Description</Label>\n              <Textarea\n                id=\"group-description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"Describe your group\"\n                data-testid=\"input-group-description\"\n                className=\"min-h-20\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"group-category\">Category</Label>\n                <Select value={category} onValueChange={setCategory}>\n                  <SelectTrigger data-testid=\"select-group-category\">\n                    <SelectValue placeholder=\"Select category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Tech\">Tech</SelectItem>\n                    <SelectItem value=\"Startups\">Startups</SelectItem>\n                    <SelectItem value=\"Fitness\">Fitness</SelectItem>\n                    <SelectItem value=\"Gaming\">Gaming</SelectItem>\n                    <SelectItem value=\"Foodies\">Foodies</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"group-type\">Privacy</Label>\n                <Select value={groupType} onValueChange={setGroupType}>\n                  <SelectTrigger data-testid=\"select-group-type\">\n                    <SelectValue placeholder=\"Select type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Public\">Public</SelectItem>\n                    <SelectItem value=\"Private\">Private</SelectItem>\n                    <SelectItem value=\"Invite-only\">Invite-only</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              data-testid=\"button-cancel-group\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className=\"bg-gradient-primary text-white\"\n              disabled={isLoading}\n              data-testid=\"button-submit-group\"\n            >\n              {isLoading ? \"Creating...\" : \"Create Group\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":5587},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/Events.tsx":{"content":"import TopBar from \"@/components/TopBar\";\nimport BottomNav from \"@/components/BottomNav\";\nimport EventCard from \"@/components/EventCard\";\nimport SearchBar from \"@/components/SearchBar\";\nimport CategoryPills from \"@/components/CategoryPills\";\nimport { Plus } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { api } from \"@/lib/api\";\nimport { format } from \"date-fns\";\nimport { useLocation } from \"wouter\";\n\nexport default function Events() {\n  const [, setLocation] = useLocation();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\n\n  const { data: events = [], isLoading } = useQuery({\n    queryKey: [\"/api/events\"],\n    queryFn: api.getEvents,\n  });\n\n  const { data: users = [] } = useQuery({\n    queryKey: [\"/api/users\"],\n    queryFn: async () => {\n      const userIds = Array.from(new Set(events.map(e => e.userId)));\n      return Promise.all(userIds.map(id => api.getUser(id).catch(() => null)));\n    },\n    enabled: events.length > 0,\n  });\n\n  const getUserById = (userId: string) => {\n    const user = users.find(u => u?.id === userId);\n    return user || { \n      id: userId, \n      name: \"Unknown User\", \n      username: \"@user\",\n      avatarUrl: `https://api.dicebear.com/7.x/initials/svg?seed=${userId}` \n    };\n  };\n\n  const filteredEvents = events.filter(event => {\n    const matchesSearch = searchQuery === \"\" || \n      event.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      event.location.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    return matchesSearch;\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background pb-20\">\n        <TopBar title=\"Events\" showActions={false} />\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-muted-foreground\">Loading events...</p>\n        </div>\n        <BottomNav />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <TopBar title=\"Events\" showActions={false} />\n\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"p-4 space-y-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex-1\">\n              <SearchBar\n                placeholder=\"Search events by name, host, or location\"\n                value={searchQuery}\n                onChange={setSearchQuery}\n              />\n            </div>\n            <Button\n              variant=\"default\"\n              size=\"sm\"\n              className=\"bg-gradient-primary text-white h-11 px-4 gap-2\"\n              onClick={() => setLocation(\"/create-event\")}\n              data-testid=\"button-create-event\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              Create Event\n            </Button>\n          </div>\n\n          <CategoryPills\n            categories={[\"All\", \"College\", \"Sports\", \"Startups\"]}\n            onSelect={setSelectedCategory}\n          />\n\n          <Tabs defaultValue=\"upcoming\" className=\"w-full\">\n            <TabsList className=\"w-full grid grid-cols-3 bg-muted h-10\">\n              <TabsTrigger value=\"upcoming\" data-testid=\"tab-upcoming\">\n                Upcoming\n              </TabsTrigger>\n              <TabsTrigger value=\"saved\" data-testid=\"tab-saved\">\n                Saved\n              </TabsTrigger>\n              <TabsTrigger value=\"my-events\" data-testid=\"tab-my-events\">\n                My Events\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"upcoming\" className=\"mt-4 space-y-4\">\n              {filteredEvents.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\">\n                    No events found. Create one to get started!\n                  </p>\n                </div>\n              ) : (\n                filteredEvents.map((event) => {\n                  const user = getUserById(event.userId);\n                  return (\n                    <EventCard\n                      key={event.id}\n                      id={event.id}\n                      title={event.title}\n                      imageUrl={event.imageUrl || \"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800\"}\n                      host={{\n                        name: user.name || \"Unknown\",\n                        username: user.username || \"@user\",\n                        avatar: user.avatarUrl || undefined,\n                      }}\n                      date={format(new Date(event.startDate), \"EEE, d MMM • h:mm a\")}\n                      location={event.location}\n                      attendeesCount={event.attendeesCount || 0}\n                      entryType={event.entryType}\n                      price={event.price || undefined}\n                      categories={event.category || []}\n                    />\n                  );\n                })\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"saved\" className=\"mt-4\">\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground\">No saved events yet</p>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"my-events\" className=\"mt-4\">\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground\">You haven't created any events</p>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </div>\n\n      <BottomNav />\n    </div>\n  );\n}\n","size_bytes":5688},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/examples/NewsCard.tsx":{"content":"import NewsCard from '../NewsCard'\n\nexport default function NewsCardExample() {\n  return (\n    <div className=\"p-4 max-w-md\">\n      <NewsCard\n        id=\"1\"\n        author={{\n          name: \"@localreporter\",\n          location: \"Hauz Khas, Delhi\",\n          avatar: \"https://api.dicebear.com/7.x/initials/svg?seed=LR\"\n        }}\n        headline=\"Road closed near IIT Gate\"\n        description=\"A brief summary of the news item about a temporary road closure affecting local traffic.\"\n        imageUrl=\"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800\"\n        category=\"Local\"\n        trueVotes={210}\n        fakeVotes={105}\n        likesCount={120}\n        commentsCount={88}\n        timeAgo=\"5m ago\"\n      />\n    </div>\n  )\n}\n","size_bytes":748},"client/src/components/EventCard.tsx":{"content":"import { Calendar, MapPin, Users } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Link } from \"wouter\";\n\ninterface EventCardProps {\n  id: string;\n  title: string;\n  imageUrl: string;\n  host: {\n    name: string;\n    username: string;\n    avatar?: string;\n  };\n  date: string;\n  location: string;\n  attendeesCount: number;\n  entryType: string;\n  price?: number;\n  categories: string[];\n}\n\nexport default function EventCard({\n  id,\n  title,\n  imageUrl,\n  host,\n  date,\n  location,\n  attendeesCount,\n  entryType,\n  price,\n  categories,\n}: EventCardProps) {\n  return (\n    <div className=\"bg-card rounded-xl overflow-hidden border border-card-border\" data-testid={`card-event-${id}`}>\n      <div className=\"relative\">\n        <img\n          src={imageUrl}\n          alt={title}\n          className=\"w-full object-cover\"\n          style={{ aspectRatio: \"16/9\" }}\n        />\n      </div>\n\n      <div className=\"p-4\">\n        <div className=\"flex gap-2 mb-2\">\n          {categories.map((category) => (\n            <Badge\n              key={category}\n              variant=\"secondary\"\n              className=\"text-xs uppercase\"\n            >\n              {category}\n            </Badge>\n          ))}\n        </div>\n\n        <h3 className=\"text-base font-semibold text-foreground mb-3\">{title}</h3>\n\n        <div className=\"flex items-center gap-2 mb-3\">\n          <Avatar className=\"w-6 h-6\">\n            <AvatarImage src={host.avatar} />\n            <AvatarFallback className=\"text-xs\">{host.name[0]}</AvatarFallback>\n          </Avatar>\n          <span className=\"text-xs text-muted-foreground\">{host.username}</span>\n        </div>\n\n        <div className=\"flex flex-col gap-2 text-xs text-muted-foreground mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <Calendar className=\"w-4 h-4\" />\n            <span>{date}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <MapPin className=\"w-4 h-4\" />\n            <span>{location}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"w-4 h-4\" />\n            <span>{attendeesCount} attending</span>\n            {entryType === \"FREE\" ? (\n              <Badge variant=\"secondary\" className=\"ml-auto text-xs bg-chart-3/20 text-chart-3\">\n                FREE\n              </Badge>\n            ) : entryType === \"SPONSORED\" ? (\n              <Badge variant=\"secondary\" className=\"ml-auto text-xs bg-primary/20 text-primary\">\n                SPONSORED\n              </Badge>\n            ) : (\n              <Badge variant=\"secondary\" className=\"ml-auto text-xs\">\n                ₹{price}\n              </Badge>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <Link href={`/event/${id}`}>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"flex-1 h-9\"\n              data-testid=\"button-view-details\"\n            >\n              View Details\n            </Button>\n          </Link>\n          <Button\n            variant=\"default\"\n            size=\"sm\"\n            className=\"flex-1 bg-gradient-primary text-white h-9\"\n            data-testid=\"button-join-event\"\n          >\n            Join\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":3458},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 98%;\n\n  --foreground: 0 0% 10%;\n\n  --border: 0 0% 88%;\n\n  --card: 0 0% 96%;\n\n  --card-foreground: 0 0% 10%;\n\n  --card-border: 0 0% 91%;\n\n  --sidebar: 0 0% 94%;\n\n  --sidebar-foreground: 0 0% 10%;\n\n  --sidebar-border: 0 0% 89%;\n\n  --sidebar-primary: 0 84% 60%;\n\n  --sidebar-primary-foreground: 0 0% 98%;\n\n  --sidebar-accent: 0 0% 91%;\n\n  --sidebar-accent-foreground: 0 0% 10%;\n\n  --sidebar-ring: 0 84% 60%;\n\n  --popover: 0 0% 93%;\n\n  --popover-foreground: 0 0% 10%;\n\n  --popover-border: 0 0% 88%;\n\n  --primary: 0 84% 60%;\n\n  --primary-foreground: 0 0% 98%;\n\n  --secondary: 0 0% 90%;\n\n  --secondary-foreground: 0 0% 10%;\n\n  --muted: 0 0% 92%;\n\n  --muted-foreground: 0 0% 40%;\n\n  --accent: 220 15% 88%;\n\n  --accent-foreground: 0 0% 10%;\n\n  --destructive: 0 75% 45%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 0 0% 75%;\n  --ring: 0 84% 60%;\n  --chart-1: 330 80% 45%;\n  --chart-2: 0 84% 60%;\n  --chart-3: 140 65% 40%;\n  --chart-4: 280 70% 45%;\n  --chart-5: 25 85% 45%;\n\n  --gradient-start: 0 84% 60%;\n  --gradient-end: 0 84% 60%;\n\n  --font-sans: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .75rem;\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.05);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.08);\n  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.06), 0px 1px 2px -1px hsl(0 0% 0% / 0.04);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.08), 0px 2px 4px -2px hsl(0 0% 0% / 0.04);\n  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.10), 0px 3px 6px -3px hsl(0 0% 0% / 0.05);\n  --shadow-lg: 0px 10px 20px -4px hsl(0 0% 0% / 0.12), 0px 4px 8px -4px hsl(0 0% 0% / 0.06);\n  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.15), 0px 8px 10px -6px hsl(0 0% 0% / 0.08);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.25);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 0 0% 7%;\n\n  --foreground: 0 0% 95%;\n\n  --border: 0 0% 20%;\n\n  --card: 0 0% 12%;\n\n  --card-foreground: 0 0% 95%;\n\n  --card-border: 0 0% 16%;\n\n  --sidebar: 0 0% 10%;\n\n  --sidebar-foreground: 0 0% 95%;\n\n  --sidebar-border: 0 0% 14%;\n\n  --sidebar-primary: 0 84% 60%;\n\n  --sidebar-primary-foreground: 0 0% 98%;\n\n  --sidebar-accent: 0 0% 15%;\n\n  --sidebar-accent-foreground: 0 0% 95%;\n\n  --sidebar-ring: 0 84% 60%;\n\n  --popover: 0 0% 14%;\n\n  --popover-foreground: 0 0% 95%;\n\n  --popover-border: 0 0% 18%;\n\n  --primary: 0 84% 60%;\n\n  --primary-foreground: 0 0% 98%;\n\n  --secondary: 0 0% 18%;\n\n  --secondary-foreground: 0 0% 95%;\n\n  --muted: 0 0% 15%;\n\n  --muted-foreground: 0 0% 60%;\n\n  --accent: 220 12% 17%;\n\n  --accent-foreground: 0 0% 95%;\n\n  --destructive: 0 75% 50%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 0 0% 25%;\n  --ring: 0 84% 60%;\n  --chart-1: 330 80% 65%;\n  --chart-2: 0 84% 60%;\n  --chart-3: 140 65% 55%;\n  --chart-4: 280 70% 65%;\n  --chart-5: 25 85% 60%;\n\n  --gradient-start: 0 84% 60%;\n  --gradient-end: 0 84% 60%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.30);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.40);\n  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.35), 0px 1px 2px -1px hsl(0 0% 0% / 0.25);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.40), 0px 2px 4px -2px hsl(0 0% 0% / 0.30);\n  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.45), 0px 3px 6px -3px hsl(0 0% 0% / 0.35);\n  --shadow-lg: 0px 10px 20px -4px hsl(0 0% 0% / 0.50), 0px 4px 8px -4px hsl(0 0% 0% / 0.40);\n  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.55), 0px 8px 10px -6px hsl(0 0% 0% / 0.45);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.65);\n\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n\n  .bg-gradient-primary {\n    background: linear-gradient(to right, hsl(var(--gradient-start)), hsl(var(--gradient-end)));\n  }\n\n  .text-gradient-primary {\n    background: linear-gradient(to right, hsl(var(--gradient-start)), hsl(var(--gradient-end)));\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  }\n}","size_bytes":10159},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/examples/BottomNav.tsx":{"content":"import BottomNav from '../BottomNav'\n\nexport default function BottomNavExample() {\n  return <BottomNav />\n}\n","size_bytes":108},"client/src/components/examples/SearchBar.tsx":{"content":"import SearchBar from '../SearchBar'\nimport { useState } from 'react'\n\nexport default function SearchBarExample() {\n  const [value, setValue] = useState('')\n  \n  return (\n    <div className=\"p-4\">\n      <SearchBar \n        placeholder=\"Search groups...\" \n        value={value}\n        onChange={setValue}\n      />\n    </div>\n  )\n}\n","size_bytes":331},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/CreateEventDialog.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { api } from \"@/lib/api\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface CreateEventDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  userId: string;\n}\n\nexport function CreateEventDialog({\n  open,\n  onOpenChange,\n  userId,\n}: CreateEventDialogProps) {\n  const { toast } = useToast();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [entryType, setEntryType] = useState(\"FREE\");\n  const [price, setPrice] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title.trim() || !location.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Please fill in all required fields\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await api.createEvent({\n        userId,\n        title: title.trim(),\n        description: description.trim() || null,\n        location: location.trim(),\n        entryType,\n        price: entryType === \"PAID\" && price ? parseFloat(price) : null,\n        visibility: \"Public\",\n        imageUrl: null,\n        startDate: new Date(Date.now() + 604800000),\n        endDate: null,\n        maxAttendees: null,\n        category: [],\n        attendeesCount: 0,\n        createdAt: new Date(),\n      });\n\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\"] });\n      \n      toast({\n        title: \"Success!\",\n        description: \"Event created successfully\",\n      });\n\n      setTitle(\"\");\n      setDescription(\"\");\n      setLocation(\"\");\n      setEntryType(\"FREE\");\n      setPrice(\"\");\n      onOpenChange(false);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create event. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Create Event</DialogTitle>\n          <DialogDescription>\n            Share an upcoming event with your community\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit}>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"event-title\">Title *</Label>\n              <Input\n                id=\"event-title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                placeholder=\"e.g., TechSparks 2024\"\n                data-testid=\"input-event-title\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"event-description\">Description</Label>\n              <Textarea\n                id=\"event-description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"Add event details\"\n                data-testid=\"input-event-description\"\n                className=\"min-h-20\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"event-location\">Location *</Label>\n              <Input\n                id=\"event-location\"\n                value={location}\n                onChange={(e) => setLocation(e.target.value)}\n                placeholder=\"e.g., Bangalore International Centre\"\n                data-testid=\"input-event-location\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"entry-type\">Entry Type</Label>\n                <Select value={entryType} onValueChange={setEntryType}>\n                  <SelectTrigger data-testid=\"select-event-entry\">\n                    <SelectValue placeholder=\"Select entry type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"FREE\">Free</SelectItem>\n                    <SelectItem value=\"PAID\">Paid</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              {entryType === \"PAID\" && (\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"price\">Price (₹)</Label>\n                  <Input\n                    id=\"price\"\n                    type=\"number\"\n                    value={price}\n                    onChange={(e) => setPrice(e.target.value)}\n                    placeholder=\"500\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    data-testid=\"input-event-price\"\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              data-testid=\"button-cancel-event\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className=\"bg-gradient-primary text-white\"\n              disabled={isLoading}\n              data-testid=\"button-submit-event\"\n            >\n              {isLoading ? \"Creating...\" : \"Create Event\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":6009},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { \n  insertActivitySchema, \n  insertEventSchema, \n  insertGroupSchema, \n  insertNewsSchema,\n  insertUserSchema,\n  insertMessageSchema,\n  insertNotificationSchema,\n  insertEventGuestSchema,\n  insertEventCommentSchema,\n  insertGroupMemberSchema\n} from \"@shared/schema\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // User routes\n  app.get(\"/api/users/:id\", async (req, res) => {\n    try {\n      const user = await storage.getUser(req.params.id);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      res.json(user);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/users/username/:username\", async (req, res) => {\n    try {\n      const user = await storage.getUserByUsername(req.params.username);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      res.json(user);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/users\", async (req, res) => {\n    try {\n      const validated = insertUserSchema.parse(req.body);\n      const user = await storage.createUser(validated);\n      res.status(201).json(user);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  app.patch(\"/api/users/:id\", async (req, res) => {\n    try {\n      const user = await storage.updateUser(req.params.id, req.body);\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n      res.json(user);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Activity routes\n  app.get(\"/api/activities\", async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : undefined;\n      const activities = await storage.getActivities(limit);\n      res.json(activities);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/activities/:id\", async (req, res) => {\n    try {\n      const activity = await storage.getActivity(req.params.id);\n      if (!activity) {\n        return res.status(404).json({ error: \"Activity not found\" });\n      }\n      res.json(activity);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/activities\", async (req, res) => {\n    try {\n      const validated = insertActivitySchema.parse(req.body);\n      const activity = await storage.createActivity(validated);\n      res.status(201).json(activity);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  app.patch(\"/api/activities/:id\", async (req, res) => {\n    try {\n      const activity = await storage.updateActivity(req.params.id, req.body);\n      if (!activity) {\n        return res.status(404).json({ error: \"Activity not found\" });\n      }\n      res.json(activity);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.delete(\"/api/activities/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteActivity(req.params.id);\n      if (!success) {\n        return res.status(404).json({ error: \"Activity not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/activities/:id/like\", async (req, res) => {\n    try {\n      const { increment } = req.body;\n      const success = await storage.likeActivity(req.params.id, increment);\n      if (!success) {\n        return res.status(404).json({ error: \"Activity not found\" });\n      }\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Event routes\n  app.get(\"/api/events\", async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : undefined;\n      const events = await storage.getEvents(limit);\n      res.json(events);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/events/:id\", async (req, res) => {\n    try {\n      const event = await storage.getEvent(req.params.id);\n      if (!event) {\n        return res.status(404).json({ error: \"Event not found\" });\n      }\n      res.json(event);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/events\", async (req, res) => {\n    try {\n      // Coerce string dates to Date objects before validation\n      const bodyWithDates = {\n        ...req.body,\n        startDate: req.body.startDate ? new Date(req.body.startDate) : undefined,\n        endDate: req.body.endDate ? new Date(req.body.endDate) : undefined,\n      };\n      const validated = insertEventSchema.parse(bodyWithDates);\n      const event = await storage.createEvent(validated);\n      res.status(201).json(event);\n    } catch (error) {\n      console.error(\"Event creation validation error:\", error);\n      res.status(400).json({ error: \"Invalid request data\", details: error instanceof Error ? error.message : String(error) });\n    }\n  });\n\n  app.patch(\"/api/events/:id\", async (req, res) => {\n    try {\n      const event = await storage.updateEvent(req.params.id, req.body);\n      if (!event) {\n        return res.status(404).json({ error: \"Event not found\" });\n      }\n      res.json(event);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.delete(\"/api/events/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteEvent(req.params.id);\n      if (!success) {\n        return res.status(404).json({ error: \"Event not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Group routes\n  app.get(\"/api/groups\", async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : undefined;\n      const groups = await storage.getGroups(limit);\n      res.json(groups);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/groups/:id\", async (req, res) => {\n    try {\n      const group = await storage.getGroup(req.params.id);\n      if (!group) {\n        return res.status(404).json({ error: \"Group not found\" });\n      }\n      res.json(group);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/groups\", async (req, res) => {\n    try {\n      const validated = insertGroupSchema.parse(req.body);\n      const group = await storage.createGroup(validated);\n      res.status(201).json(group);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  app.patch(\"/api/groups/:id\", async (req, res) => {\n    try {\n      const group = await storage.updateGroup(req.params.id, req.body);\n      if (!group) {\n        return res.status(404).json({ error: \"Group not found\" });\n      }\n      res.json(group);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.delete(\"/api/groups/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteGroup(req.params.id);\n      if (!success) {\n        return res.status(404).json({ error: \"Group not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // News routes\n  app.get(\"/api/news\", async (req, res) => {\n    try {\n      const limit = req.query.limit ? parseInt(req.query.limit as string) : undefined;\n      const news = await storage.getNews(limit);\n      res.json(news);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/news/:id\", async (req, res) => {\n    try {\n      const newsItem = await storage.getNewsItem(req.params.id);\n      if (!newsItem) {\n        return res.status(404).json({ error: \"News not found\" });\n      }\n      res.json(newsItem);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/news\", async (req, res) => {\n    try {\n      const validated = insertNewsSchema.parse(req.body);\n      const newsItem = await storage.createNews(validated);\n      res.status(201).json(newsItem);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  app.patch(\"/api/news/:id\", async (req, res) => {\n    try {\n      const newsItem = await storage.updateNews(req.params.id, req.body);\n      if (!newsItem) {\n        return res.status(404).json({ error: \"News not found\" });\n      }\n      res.json(newsItem);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.delete(\"/api/news/:id\", async (req, res) => {\n    try {\n      const success = await storage.deleteNews(req.params.id);\n      if (!success) {\n        return res.status(404).json({ error: \"News not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/news/:id/vote\", async (req, res) => {\n    try {\n      const { voteType, increment } = req.body;\n      const success = await storage.voteNews(req.params.id, voteType, increment);\n      if (!success) {\n        return res.status(404).json({ error: \"News not found\" });\n      }\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/news/:id/like\", async (req, res) => {\n    try {\n      const { increment } = req.body;\n      const success = await storage.likeNews(req.params.id, increment);\n      if (!success) {\n        return res.status(404).json({ error: \"News not found\" });\n      }\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Message routes\n  app.get(\"/api/messages\", async (req, res) => {\n    try {\n      const { groupId, userId } = req.query;\n      const messages = await storage.getMessages(\n        groupId as string | undefined,\n        userId as string | undefined\n      );\n      res.json(messages);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/messages/direct/:userId\", async (req, res) => {\n    try {\n      const messages = await storage.getMessages(undefined, req.params.userId);\n      res.json(messages);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/messages/:groupId\", async (req, res) => {\n    try {\n      const messages = await storage.getMessages(req.params.groupId, undefined);\n      res.json(messages);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/messages\", async (req, res) => {\n    try {\n      const validated = insertMessageSchema.parse(req.body);\n      const message = await storage.createMessage(validated);\n      res.status(201).json(message);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  // Notification routes\n  app.get(\"/api/notifications/:userId\", async (req, res) => {\n    try {\n      const { type } = req.query;\n      const notifications = await storage.getNotifications(\n        req.params.userId,\n        type as string | undefined\n      );\n      res.json(notifications);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/notifications\", async (req, res) => {\n    try {\n      const validated = insertNotificationSchema.parse(req.body);\n      const notification = await storage.createNotification(validated);\n      res.status(201).json(notification);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  app.patch(\"/api/notifications/:id/read\", async (req, res) => {\n    try {\n      const success = await storage.markNotificationAsRead(req.params.id);\n      if (!success) {\n        return res.status(404).json({ error: \"Notification not found\" });\n      }\n      res.json({ success: true });\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Event Guest routes\n  app.get(\"/api/events/:eventId/guests\", async (req, res) => {\n    try {\n      const guests = await storage.getEventGuests(req.params.eventId);\n      res.json(guests);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/events/:eventId/join\", async (req, res) => {\n    try {\n      const guest = await storage.createEventGuest({\n        eventId: req.params.eventId,\n        userId: req.body.userId || \"current-user-id\",\n        status: \"attending\",\n      });\n      res.status(201).json(guest);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  // Event Comment routes\n  app.get(\"/api/events/:eventId/comments\", async (req, res) => {\n    try {\n      const comments = await storage.getEventComments(req.params.eventId);\n      res.json(comments);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/events/:eventId/comments\", async (req, res) => {\n    try {\n      const validated = insertEventCommentSchema.parse({\n        eventId: req.params.eventId,\n        userId: req.body.userId || \"current-user-id\",\n        content: req.body.content,\n      });\n      const comment = await storage.createEventComment(validated);\n      res.status(201).json(comment);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  // Group Member routes\n  app.get(\"/api/groups/:groupId/members\", async (req, res) => {\n    try {\n      const members = await storage.getGroupMembers(req.params.groupId);\n      res.json(members);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.get(\"/api/users/:userId/groups\", async (req, res) => {\n    try {\n      const groups = await storage.getUserGroups(req.params.userId);\n      res.json(groups);\n    } catch (error) {\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  app.post(\"/api/groups/:groupId/join\", async (req, res) => {\n    try {\n      const member = await storage.createGroupMember({\n        groupId: req.params.groupId,\n        userId: req.body.userId || \"current-user-id\",\n        role: \"member\",\n      });\n      res.status(201).json(member);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid request data\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":15175},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/TopBar.tsx":{"content":"import { Bell, Send } from \"lucide-react\";\n\ninterface TopBarProps {\n  title?: string;\n  showActions?: boolean;\n}\n\nexport default function TopBar({ title = \"Nearly\", showActions = true }: TopBarProps) {\n  return (\n    <header className=\"sticky top-0 z-40 bg-background border-b border-border\">\n      <div className=\"max-w-md mx-auto flex items-center justify-between h-14 px-4\">\n        <h1 className=\"text-xl font-bold text-gradient-primary\">{title}</h1>\n        {showActions && (\n          <div className=\"flex items-center gap-3\">\n            <button\n              className=\"hover-elevate active-elevate-2 p-2 -m-2\"\n              data-testid=\"button-notifications\"\n            >\n              <Bell className=\"w-6 h-6 text-foreground\" />\n            </button>\n            <button\n              className=\"hover-elevate active-elevate-2 p-2 -m-2\"\n              data-testid=\"button-messages\"\n            >\n              <Send className=\"w-6 h-6 text-foreground\" />\n            </button>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n","size_bytes":1050},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/pages/Groups.tsx":{"content":"import TopBar from \"@/components/TopBar\";\nimport BottomNav from \"@/components/BottomNav\";\nimport GroupCard from \"@/components/GroupCard\";\nimport SearchBar from \"@/components/SearchBar\";\nimport CategoryPills from \"@/components/CategoryPills\";\nimport { Plus } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { api } from \"@/lib/api\";\nimport { useLocation } from \"wouter\";\n\nexport default function Groups() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"Tech\");\n  const [, setLocation] = useLocation();\n\n  const { data: groups = [], isLoading } = useQuery({\n    queryKey: [\"/api/groups\"],\n    queryFn: api.getGroups,\n  });\n\n  const filteredGroups = groups.filter(group => {\n    const matchesSearch = searchQuery === \"\" || \n      group.name.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    return matchesSearch;\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background pb-20\">\n        <TopBar title=\"Groups\" showActions={false} />\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-muted-foreground\">Loading groups...</p>\n        </div>\n        <BottomNav />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <TopBar title=\"Groups\" showActions={false} />\n\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"p-4 space-y-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex-1\">\n              <SearchBar\n                placeholder=\"Search groups...\"\n                value={searchQuery}\n                onChange={setSearchQuery}\n              />\n            </div>\n            <Button\n              variant=\"default\"\n              size=\"sm\"\n              className=\"bg-gradient-primary text-white h-11 px-4 gap-2\"\n              onClick={() => setLocation(\"/create-group\")}\n              data-testid=\"button-create-group\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              Create Group\n            </Button>\n          </div>\n\n          <CategoryPills\n            categories={[\"Tech\", \"Startups\", \"Fitness\", \"Gaming\"]}\n            onSelect={setSelectedCategory}\n          />\n\n          <Tabs defaultValue=\"all\" className=\"w-full\">\n            <TabsList className=\"w-full grid grid-cols-2 bg-muted h-10\">\n              <TabsTrigger value=\"my-groups\" data-testid=\"tab-my-groups\">\n                My Groups\n              </TabsTrigger>\n              <TabsTrigger value=\"all\" data-testid=\"tab-all-groups\">\n                All Groups\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"all\" className=\"mt-4 space-y-4\">\n              {filteredGroups.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\">\n                    No groups found. Create one to get started!\n                  </p>\n                </div>\n              ) : (\n                filteredGroups.map((group) => (\n                  <GroupCard\n                    key={group.id}\n                    id={group.id}\n                    name={group.name}\n                    imageUrl={group.imageUrl || undefined}\n                    category={group.category || \"General\"}\n                    membersCount={group.membersCount || 0}\n                    groupType={group.groupType as \"Public\" | \"Private\" | \"Invite-only\"}\n                  />\n                ))\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"my-groups\" className=\"mt-4\">\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground\">You haven't joined any groups yet</p>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </div>\n\n      <BottomNav />\n    </div>\n  );\n}\n","size_bytes":4057},"server/storage.ts":{"content":"import { \n  type User, type InsertUser,\n  type Activity, type InsertActivity,\n  type Event, type InsertEvent,\n  type Group, type InsertGroup,\n  type News, type InsertNews,\n  type Message, type InsertMessage,\n  type Notification, type InsertNotification,\n  type EventGuest, type InsertEventGuest,\n  type EventComment, type InsertEventComment,\n  type GroupMember, type InsertGroupMember,\n  users, activities, events, groups, news, messages, notifications,\n  eventGuests, eventComments, groupMembers\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport { db } from \"./db\";\nimport { eq, and, desc, or } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // Users\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, updates: Partial<InsertUser>): Promise<User | undefined>;\n  \n  // Activities\n  getActivities(limit?: number): Promise<Activity[]>;\n  getActivity(id: string): Promise<Activity | undefined>;\n  createActivity(activity: InsertActivity): Promise<Activity>;\n  updateActivity(id: string, updates: Partial<InsertActivity>): Promise<Activity | undefined>;\n  deleteActivity(id: string): Promise<boolean>;\n  likeActivity(id: string, increment: boolean): Promise<boolean>;\n  \n  // Events\n  getEvents(limit?: number): Promise<Event[]>;\n  getEvent(id: string): Promise<Event | undefined>;\n  createEvent(event: InsertEvent): Promise<Event>;\n  updateEvent(id: string, updates: Partial<InsertEvent>): Promise<Event | undefined>;\n  deleteEvent(id: string): Promise<boolean>;\n  \n  // Groups\n  getGroups(limit?: number): Promise<Group[]>;\n  getGroup(id: string): Promise<Group | undefined>;\n  createGroup(group: InsertGroup): Promise<Group>;\n  updateGroup(id: string, updates: Partial<InsertGroup>): Promise<Group | undefined>;\n  deleteGroup(id: string): Promise<boolean>;\n  \n  // News\n  getNews(limit?: number): Promise<News[]>;\n  getNewsItem(id: string): Promise<News | undefined>;\n  createNews(news: InsertNews): Promise<News>;\n  updateNews(id: string, updates: Partial<InsertNews>): Promise<News | undefined>;\n  deleteNews(id: string): Promise<boolean>;\n  voteNews(id: string, voteType: 'true' | 'fake', increment: boolean): Promise<boolean>;\n  likeNews(id: string, increment: boolean): Promise<boolean>;\n  \n  // Messages\n  getMessages(groupId?: string, userId?: string): Promise<Message[]>;\n  getMessage(id: string): Promise<Message | undefined>;\n  createMessage(message: InsertMessage): Promise<Message>;\n  deleteMessage(id: string): Promise<boolean>;\n  \n  // Notifications\n  getNotifications(userId: string, type?: string): Promise<Notification[]>;\n  getNotification(id: string): Promise<Notification | undefined>;\n  createNotification(notification: InsertNotification): Promise<Notification>;\n  markNotificationAsRead(id: string): Promise<boolean>;\n  deleteNotification(id: string): Promise<boolean>;\n  \n  // Event Guests\n  getEventGuests(eventId: string): Promise<EventGuest[]>;\n  createEventGuest(guest: InsertEventGuest): Promise<EventGuest>;\n  updateEventGuestStatus(eventId: string, userId: string, status: string): Promise<boolean>;\n  \n  // Event Comments\n  getEventComments(eventId: string): Promise<EventComment[]>;\n  createEventComment(comment: InsertEventComment): Promise<EventComment>;\n  deleteEventComment(id: string): Promise<boolean>;\n  \n  // Group Members\n  getGroupMembers(groupId: string): Promise<GroupMember[]>;\n  getUserGroups(userId: string): Promise<GroupMember[]>;\n  createGroupMember(member: InsertGroupMember): Promise<GroupMember>;\n  deleteGroupMember(groupId: string, userId: string): Promise<boolean>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User methods\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.username, username));\n    return user || undefined;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db.insert(users).values(insertUser).returning();\n    return user;\n  }\n\n  async updateUser(id: string, updates: Partial<InsertUser>): Promise<User | undefined> {\n    const [user] = await db.update(users).set(updates).where(eq(users.id, id)).returning();\n    return user || undefined;\n  }\n\n  // Activity methods\n  async getActivities(limit = 50): Promise<Activity[]> {\n    return await db.select().from(activities).orderBy(desc(activities.createdAt)).limit(limit);\n  }\n\n  async getActivity(id: string): Promise<Activity | undefined> {\n    const [activity] = await db.select().from(activities).where(eq(activities.id, id));\n    return activity || undefined;\n  }\n\n  async createActivity(insertActivity: InsertActivity): Promise<Activity> {\n    const [activity] = await db.insert(activities).values(insertActivity).returning();\n    return activity;\n  }\n\n  async updateActivity(id: string, updates: Partial<InsertActivity>): Promise<Activity | undefined> {\n    const [activity] = await db.update(activities).set(updates).where(eq(activities.id, id)).returning();\n    return activity || undefined;\n  }\n\n  async deleteActivity(id: string): Promise<boolean> {\n    const result = await db.delete(activities).where(eq(activities.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  async likeActivity(id: string, increment: boolean): Promise<boolean> {\n    const activity = await this.getActivity(id);\n    if (!activity) return false;\n    \n    const newCount = (activity.likesCount || 0) + (increment ? 1 : -1);\n    await db.update(activities).set({ likesCount: newCount }).where(eq(activities.id, id));\n    return true;\n  }\n\n  // Event methods\n  async getEvents(limit = 50): Promise<Event[]> {\n    return await db.select().from(events).orderBy(desc(events.createdAt)).limit(limit);\n  }\n\n  async getEvent(id: string): Promise<Event | undefined> {\n    const [event] = await db.select().from(events).where(eq(events.id, id));\n    return event || undefined;\n  }\n\n  async createEvent(insertEvent: InsertEvent): Promise<Event> {\n    const [event] = await db.insert(events).values(insertEvent).returning();\n    return event;\n  }\n\n  async updateEvent(id: string, updates: Partial<InsertEvent>): Promise<Event | undefined> {\n    const [event] = await db.update(events).set(updates).where(eq(events.id, id)).returning();\n    return event || undefined;\n  }\n\n  async deleteEvent(id: string): Promise<boolean> {\n    const result = await db.delete(events).where(eq(events.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  // Group methods\n  async getGroups(limit = 50): Promise<Group[]> {\n    return await db.select().from(groups).orderBy(desc(groups.membersCount)).limit(limit);\n  }\n\n  async getGroup(id: string): Promise<Group | undefined> {\n    const [group] = await db.select().from(groups).where(eq(groups.id, id));\n    return group || undefined;\n  }\n\n  async createGroup(insertGroup: InsertGroup): Promise<Group> {\n    const [group] = await db.insert(groups).values(insertGroup).returning();\n    return group;\n  }\n\n  async updateGroup(id: string, updates: Partial<InsertGroup>): Promise<Group | undefined> {\n    const [group] = await db.update(groups).set(updates).where(eq(groups.id, id)).returning();\n    return group || undefined;\n  }\n\n  async deleteGroup(id: string): Promise<boolean> {\n    const result = await db.delete(groups).where(eq(groups.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  // News methods\n  async getNews(limit = 50): Promise<News[]> {\n    return await db.select().from(news).orderBy(desc(news.publishedAt)).limit(limit);\n  }\n\n  async getNewsItem(id: string): Promise<News | undefined> {\n    const [newsItem] = await db.select().from(news).where(eq(news.id, id));\n    return newsItem || undefined;\n  }\n\n  async createNews(insertNews: InsertNews): Promise<News> {\n    const [newsItem] = await db.insert(news).values(insertNews).returning();\n    return newsItem;\n  }\n\n  async updateNews(id: string, updates: Partial<InsertNews>): Promise<News | undefined> {\n    const [newsItem] = await db.update(news).set(updates).where(eq(news.id, id)).returning();\n    return newsItem || undefined;\n  }\n\n  async deleteNews(id: string): Promise<boolean> {\n    const result = await db.delete(news).where(eq(news.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  async voteNews(id: string, voteType: 'true' | 'fake', increment: boolean): Promise<boolean> {\n    const newsItem = await this.getNewsItem(id);\n    if (!newsItem) return false;\n    \n    if (voteType === 'true') {\n      const newCount = (newsItem.trueVotes || 0) + (increment ? 1 : -1);\n      await db.update(news).set({ trueVotes: newCount }).where(eq(news.id, id));\n    } else {\n      const newCount = (newsItem.fakeVotes || 0) + (increment ? 1 : -1);\n      await db.update(news).set({ fakeVotes: newCount }).where(eq(news.id, id));\n    }\n    return true;\n  }\n\n  async likeNews(id: string, increment: boolean): Promise<boolean> {\n    const newsItem = await this.getNewsItem(id);\n    if (!newsItem) return false;\n    \n    const newCount = (newsItem.likesCount || 0) + (increment ? 1 : -1);\n    await db.update(news).set({ likesCount: newCount }).where(eq(news.id, id));\n    return true;\n  }\n\n  // Message methods\n  async getMessages(groupId?: string, userId?: string): Promise<Message[]> {\n    if (groupId) {\n      return await db.select().from(messages).where(eq(messages.groupId, groupId)).orderBy(messages.createdAt);\n    }\n    if (userId) {\n      return await db.select().from(messages)\n        .where(or(eq(messages.recipientId, userId), eq(messages.senderId, userId)))\n        .orderBy(messages.createdAt);\n    }\n    return await db.select().from(messages).orderBy(messages.createdAt);\n  }\n\n  async getMessage(id: string): Promise<Message | undefined> {\n    const [message] = await db.select().from(messages).where(eq(messages.id, id));\n    return message || undefined;\n  }\n\n  async createMessage(insertMessage: InsertMessage): Promise<Message> {\n    const [message] = await db.insert(messages).values(insertMessage).returning();\n    return message;\n  }\n\n  async deleteMessage(id: string): Promise<boolean> {\n    const result = await db.delete(messages).where(eq(messages.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  // Notification methods\n  async getNotifications(userId: string, type?: string): Promise<Notification[]> {\n    if (type) {\n      return await db.select().from(notifications)\n        .where(and(eq(notifications.userId, userId), eq(notifications.type, type)))\n        .orderBy(desc(notifications.createdAt));\n    }\n    return await db.select().from(notifications)\n      .where(eq(notifications.userId, userId))\n      .orderBy(desc(notifications.createdAt));\n  }\n\n  async getNotification(id: string): Promise<Notification | undefined> {\n    const [notification] = await db.select().from(notifications).where(eq(notifications.id, id));\n    return notification || undefined;\n  }\n\n  async createNotification(insertNotification: InsertNotification): Promise<Notification> {\n    const [notification] = await db.insert(notifications).values(insertNotification).returning();\n    return notification;\n  }\n\n  async markNotificationAsRead(id: string): Promise<boolean> {\n    const result = await db.update(notifications).set({ isRead: true }).where(eq(notifications.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  async deleteNotification(id: string): Promise<boolean> {\n    const result = await db.delete(notifications).where(eq(notifications.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  // Event Guest methods\n  async getEventGuests(eventId: string): Promise<EventGuest[]> {\n    return await db.select().from(eventGuests).where(eq(eventGuests.eventId, eventId));\n  }\n\n  async createEventGuest(insertGuest: InsertEventGuest): Promise<EventGuest> {\n    const [guest] = await db.insert(eventGuests).values(insertGuest).returning();\n    return guest;\n  }\n\n  async updateEventGuestStatus(eventId: string, userId: string, status: string): Promise<boolean> {\n    const result = await db.update(eventGuests)\n      .set({ status })\n      .where(and(eq(eventGuests.eventId, eventId), eq(eventGuests.userId, userId)));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  // Event Comment methods\n  async getEventComments(eventId: string): Promise<EventComment[]> {\n    return await db.select().from(eventComments)\n      .where(eq(eventComments.eventId, eventId))\n      .orderBy(desc(eventComments.createdAt));\n  }\n\n  async createEventComment(insertComment: InsertEventComment): Promise<EventComment> {\n    const [comment] = await db.insert(eventComments).values(insertComment).returning();\n    return comment;\n  }\n\n  async deleteEventComment(id: string): Promise<boolean> {\n    const result = await db.delete(eventComments).where(eq(eventComments.id, id));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n\n  // Group Member methods\n  async getGroupMembers(groupId: string): Promise<GroupMember[]> {\n    return await db.select().from(groupMembers).where(eq(groupMembers.groupId, groupId));\n  }\n\n  async getUserGroups(userId: string): Promise<GroupMember[]> {\n    return await db.select().from(groupMembers)\n      .where(eq(groupMembers.userId, userId))\n      .orderBy(desc(groupMembers.joinedAt));\n  }\n\n  async createGroupMember(insertMember: InsertGroupMember): Promise<GroupMember> {\n    const [member] = await db.insert(groupMembers).values(insertMember).returning();\n    return member;\n  }\n\n  async deleteGroupMember(groupId: string, userId: string): Promise<boolean> {\n    const result = await db.delete(groupMembers)\n      .where(and(eq(groupMembers.groupId, groupId), eq(groupMembers.userId, userId)));\n    return result.rowCount !== null && result.rowCount > 0;\n  }\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n  private activities: Map<string, Activity>;\n  private events: Map<string, Event>;\n  private groups: Map<string, Group>;\n  private news: Map<string, News>;\n  private messages: Map<string, Message>;\n  private notifications: Map<string, Notification>;\n  private eventGuests: Map<string, EventGuest>;\n  private eventComments: Map<string, EventComment>;\n  private groupMembers: Map<string, GroupMember>;\n\n  constructor() {\n    this.users = new Map();\n    this.activities = new Map();\n    this.events = new Map();\n    this.groups = new Map();\n    this.news = new Map();\n    this.messages = new Map();\n    this.notifications = new Map();\n    this.eventGuests = new Map();\n    this.eventComments = new Map();\n    this.groupMembers = new Map();\n    this.seedData();\n  }\n\n  private seedData() {\n    // Seed users\n    const user1: User = {\n      id: randomUUID(),\n      username: \"rahul_kanpur\",\n      name: \"Rahul Kanpur\",\n      bio: \"Product Designer | Foodie | Traveler 📍Delhi\\nTrying to capture the beauty of my city, one click at a time.\",\n      location: \"Delhi, India\",\n      interests: [\"Food\", \"Travel\", \"Photography\"],\n      avatarUrl: \"https://api.dicebear.com/7.x/avataaars/svg?seed=Rahul\",\n      followersCount: 1200,\n      followingCount: 300,\n      postsCount: 120,\n    };\n    this.users.set(user1.id, user1);\n\n    const user2: User = {\n      id: randomUUID(),\n      username: \"priya_sharma\",\n      name: \"Priya Sharma\",\n      bio: \"Sports enthusiast | IIT Kanpur\",\n      location: \"Kanpur, India\",\n      interests: [\"Sports\", \"Cricket\", \"Fitness\"],\n      avatarUrl: \"https://api.dicebear.com/7.x/avataaars/svg?seed=Priya\",\n      followersCount: 850,\n      followingCount: 420,\n      postsCount: 65,\n    };\n    this.users.set(user2.id, user2);\n\n    const user3: User = {\n      id: randomUUID(),\n      username: \"localreporter\",\n      name: \"Local Reporter\",\n      bio: \"Reporting local news from Delhi NCR\",\n      location: \"Delhi, India\",\n      interests: [\"News\", \"Journalism\"],\n      avatarUrl: \"https://api.dicebear.com/7.x/initials/svg?seed=LR\",\n      followersCount: 5200,\n      followingCount: 150,\n      postsCount: 342,\n    };\n    this.users.set(user3.id, user3);\n\n    // Seed activities\n    const activity1: Activity = {\n      id: randomUUID(),\n      userId: user1.id,\n      title: \"Going to watch Jawan at PVR Mall\",\n      description: \"Excited to announce a movie meetup for the new Shah Rukh Khan movie! Let's catch the first day first show together.\",\n      imageUrl: \"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=800\",\n      location: \"PVR Mall, Kanpur\",\n      startDate: new Date(Date.now() + 86400000),\n      endDate: null,\n      maxParticipants: 10,\n      visibility: \"Public\",\n      cost: \"Paid Entry\",\n      category: \"Movies\",\n      likesCount: 23,\n      commentsCount: 5,\n      participantsCount: 6,\n      createdAt: new Date(Date.now() - 7200000),\n    };\n    this.activities.set(activity1.id, activity1);\n\n    const activity2: Activity = {\n      id: randomUUID(),\n      userId: user2.id,\n      title: \"Cricket match at IIT Kanpur ground tomorrow!\",\n      description: \"Need players 🏏\",\n      imageUrl: null,\n      location: \"IIT Kanpur\",\n      startDate: new Date(Date.now() + 86400000),\n      endDate: null,\n      maxParticipants: 22,\n      visibility: \"Public\",\n      cost: \"Free\",\n      category: \"Sports\",\n      likesCount: 15,\n      commentsCount: 8,\n      participantsCount: 12,\n      createdAt: new Date(Date.now() - 18000000),\n    };\n    this.activities.set(activity2.id, activity2);\n\n    // Seed events\n    const event1: Event = {\n      id: randomUUID(),\n      userId: user1.id,\n      title: \"TechSparks 2024\",\n      description: \"India's biggest startup conference\",\n      imageUrl: \"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800\",\n      location: \"Bangalore International Centre\",\n      startDate: new Date(Date.now() + 864000000),\n      endDate: null,\n      maxAttendees: null,\n      visibility: \"Public\",\n      entryType: \"FREE\",\n      price: null,\n      category: [\"TECH\", \"STARTUP\"],\n      attendeesCount: 125,\n      createdAt: new Date(),\n    };\n    this.events.set(event1.id, event1);\n\n    const event2: Event = {\n      id: randomUUID(),\n      userId: user2.id,\n      title: \"Rang Barse - Holi Festival\",\n      description: \"Celebrate Holi with colors and music\",\n      imageUrl: \"https://images.unsplash.com/photo-1583338506904-91cfd5c67a9b?w=800\",\n      location: \"Jawaharlal Nehru Stadium, Delhi\",\n      startDate: new Date(Date.now() + 2592000000),\n      endDate: null,\n      maxAttendees: 1000,\n      visibility: \"Public\",\n      entryType: \"PAID\",\n      price: 500,\n      category: [\"FESTIVAL\"],\n      attendeesCount: 500,\n      createdAt: new Date(),\n    };\n    this.events.set(event2.id, event2);\n\n    // Seed groups\n    const group1: Group = {\n      id: randomUUID(),\n      name: \"Kanpur Startups\",\n      description: \"A community for startup enthusiasts in Kanpur\",\n      imageUrl: \"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400\",\n      groupType: \"Public\",\n      category: \"Startups\",\n      rules: \"Be respectful, No spam, Stay relevant\",\n      membersCount: 1200,\n      createdAt: new Date(),\n    };\n    this.groups.set(group1.id, group1);\n\n    const group2: Group = {\n      id: randomUUID(),\n      name: \"Delhi Foodies\",\n      description: \"For food lovers sharing restaurant recommendations\",\n      imageUrl: \"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400\",\n      groupType: \"Private\",\n      category: \"Foodies\",\n      rules: \"Share food pics, Recommend places, No self-promotion\",\n      membersCount: 875,\n      createdAt: new Date(),\n    };\n    this.groups.set(group2.id, group2);\n\n    // Seed news\n    const news1: News = {\n      id: randomUUID(),\n      userId: user3.id,\n      headline: \"Road closed near IIT Gate\",\n      description: \"A brief summary of the news item about a temporary road closure affecting local traffic.\",\n      imageUrl: \"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800\",\n      location: \"Hauz Khas, Delhi\",\n      category: \"Local\",\n      trueVotes: 210,\n      fakeVotes: 105,\n      likesCount: 120,\n      commentsCount: 88,\n      publishedAt: new Date(Date.now() - 300000),\n    };\n    this.news.set(news1.id, news1);\n\n    const news2: News = {\n      id: randomUUID(),\n      userId: user3.id,\n      headline: \"New café opening in Swaroop Nagar\",\n      description: \"Exciting news for coffee lovers! A brand new cafe is opening its doors this weekend.\",\n      imageUrl: \"https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800\",\n      location: \"Swaroop Nagar, Kanpur\",\n      category: \"Local\",\n      trueVotes: 560,\n      fakeVotes: 12,\n      likesCount: 973,\n      commentsCount: 102,\n      publishedAt: new Date(Date.now() - 7200000),\n    };\n    this.news.set(news2.id, news2);\n  }\n\n  // User methods\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = {\n      id,\n      username: insertUser.username,\n      name: insertUser.name,\n      bio: insertUser.bio ?? null,\n      location: insertUser.location ?? null,\n      interests: insertUser.interests ?? null,\n      avatarUrl: insertUser.avatarUrl ?? null,\n      followersCount: insertUser.followersCount ?? 0,\n      followingCount: insertUser.followingCount ?? 0,\n      postsCount: insertUser.postsCount ?? 0,\n    };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async updateUser(id: string, updates: Partial<InsertUser>): Promise<User | undefined> {\n    const user = this.users.get(id);\n    if (!user) return undefined;\n    \n    const updated = { ...user, ...updates };\n    this.users.set(id, updated);\n    return updated;\n  }\n\n  // Activity methods\n  async getActivities(limit = 50): Promise<Activity[]> {\n    return Array.from(this.activities.values())\n      .sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n      })\n      .slice(0, limit);\n  }\n\n  async getActivity(id: string): Promise<Activity | undefined> {\n    return this.activities.get(id);\n  }\n\n  async createActivity(insertActivity: InsertActivity): Promise<Activity> {\n    const id = randomUUID();\n    const activity: Activity = {\n      id,\n      userId: insertActivity.userId,\n      title: insertActivity.title,\n      description: insertActivity.description ?? null,\n      imageUrl: insertActivity.imageUrl ?? null,\n      location: insertActivity.location ?? null,\n      startDate: insertActivity.startDate ?? null,\n      endDate: insertActivity.endDate ?? null,\n      maxParticipants: insertActivity.maxParticipants ?? null,\n      visibility: insertActivity.visibility,\n      cost: insertActivity.cost ?? null,\n      category: insertActivity.category ?? null,\n      likesCount: 0,\n      commentsCount: 0,\n      participantsCount: 0,\n      createdAt: new Date(),\n    };\n    this.activities.set(id, activity);\n    return activity;\n  }\n\n  async updateActivity(id: string, updates: Partial<InsertActivity>): Promise<Activity | undefined> {\n    const activity = this.activities.get(id);\n    if (!activity) return undefined;\n    \n    const updated = { ...activity, ...updates };\n    this.activities.set(id, updated);\n    return updated;\n  }\n\n  async deleteActivity(id: string): Promise<boolean> {\n    return this.activities.delete(id);\n  }\n\n  async likeActivity(id: string, increment: boolean): Promise<boolean> {\n    const activity = this.activities.get(id);\n    if (!activity) return false;\n    \n    activity.likesCount = (activity.likesCount || 0) + (increment ? 1 : -1);\n    this.activities.set(id, activity);\n    return true;\n  }\n\n  // Event methods\n  async getEvents(limit = 50): Promise<Event[]> {\n    return Array.from(this.events.values())\n      .sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n      })\n      .slice(0, limit);\n  }\n\n  async getEvent(id: string): Promise<Event | undefined> {\n    return this.events.get(id);\n  }\n\n  async createEvent(insertEvent: InsertEvent): Promise<Event> {\n    const id = randomUUID();\n    const event: Event = {\n      id,\n      userId: insertEvent.userId,\n      title: insertEvent.title,\n      description: insertEvent.description ?? null,\n      imageUrl: insertEvent.imageUrl ?? null,\n      location: insertEvent.location,\n      startDate: insertEvent.startDate,\n      endDate: insertEvent.endDate ?? null,\n      maxAttendees: insertEvent.maxAttendees ?? null,\n      visibility: insertEvent.visibility,\n      entryType: insertEvent.entryType,\n      price: insertEvent.price ?? null,\n      category: insertEvent.category ?? null,\n      attendeesCount: 0,\n      createdAt: new Date(),\n    };\n    this.events.set(id, event);\n    return event;\n  }\n\n  async updateEvent(id: string, updates: Partial<InsertEvent>): Promise<Event | undefined> {\n    const event = this.events.get(id);\n    if (!event) return undefined;\n    \n    const updated = { ...event, ...updates };\n    this.events.set(id, updated);\n    return updated;\n  }\n\n  async deleteEvent(id: string): Promise<boolean> {\n    return this.events.delete(id);\n  }\n\n  // Group methods\n  async getGroups(limit = 50): Promise<Group[]> {\n    return Array.from(this.groups.values())\n      .sort((a, b) => (b.membersCount || 0) - (a.membersCount || 0))\n      .slice(0, limit);\n  }\n\n  async getGroup(id: string): Promise<Group | undefined> {\n    return this.groups.get(id);\n  }\n\n  async createGroup(insertGroup: InsertGroup): Promise<Group> {\n    const id = randomUUID();\n    const group: Group = {\n      id,\n      name: insertGroup.name,\n      description: insertGroup.description ?? null,\n      imageUrl: insertGroup.imageUrl ?? null,\n      groupType: insertGroup.groupType,\n      category: insertGroup.category ?? null,\n      rules: insertGroup.rules ?? null,\n      membersCount: 0,\n      createdAt: new Date(),\n    };\n    this.groups.set(id, group);\n    return group;\n  }\n\n  async updateGroup(id: string, updates: Partial<InsertGroup>): Promise<Group | undefined> {\n    const group = this.groups.get(id);\n    if (!group) return undefined;\n    \n    const updated = { ...group, ...updates };\n    this.groups.set(id, updated);\n    return updated;\n  }\n\n  async deleteGroup(id: string): Promise<boolean> {\n    return this.groups.delete(id);\n  }\n\n  // News methods\n  async getNews(limit = 50): Promise<News[]> {\n    return Array.from(this.news.values())\n      .sort((a, b) => {\n        const dateA = a.publishedAt ? new Date(a.publishedAt).getTime() : 0;\n        const dateB = b.publishedAt ? new Date(b.publishedAt).getTime() : 0;\n        return dateB - dateA;\n      })\n      .slice(0, limit);\n  }\n\n  async getNewsItem(id: string): Promise<News | undefined> {\n    return this.news.get(id);\n  }\n\n  async createNews(insertNews: InsertNews): Promise<News> {\n    const id = randomUUID();\n    const newsItem: News = {\n      id,\n      userId: insertNews.userId,\n      headline: insertNews.headline,\n      description: insertNews.description ?? null,\n      imageUrl: insertNews.imageUrl ?? null,\n      location: insertNews.location ?? null,\n      category: insertNews.category,\n      trueVotes: 0,\n      fakeVotes: 0,\n      likesCount: 0,\n      commentsCount: 0,\n      publishedAt: new Date(),\n    };\n    this.news.set(id, newsItem);\n    return newsItem;\n  }\n\n  async updateNews(id: string, updates: Partial<InsertNews>): Promise<News | undefined> {\n    const newsItem = this.news.get(id);\n    if (!newsItem) return undefined;\n    \n    const updated = { ...newsItem, ...updates };\n    this.news.set(id, updated);\n    return updated;\n  }\n\n  async deleteNews(id: string): Promise<boolean> {\n    return this.news.delete(id);\n  }\n\n  async voteNews(id: string, voteType: 'true' | 'fake', increment: boolean): Promise<boolean> {\n    const newsItem = this.news.get(id);\n    if (!newsItem) return false;\n    \n    if (voteType === 'true') {\n      newsItem.trueVotes = (newsItem.trueVotes || 0) + (increment ? 1 : -1);\n    } else {\n      newsItem.fakeVotes = (newsItem.fakeVotes || 0) + (increment ? 1 : -1);\n    }\n    this.news.set(id, newsItem);\n    return true;\n  }\n\n  async likeNews(id: string, increment: boolean): Promise<boolean> {\n    const newsItem = this.news.get(id);\n    if (!newsItem) return false;\n    \n    newsItem.likesCount = (newsItem.likesCount || 0) + (increment ? 1 : -1);\n    this.news.set(id, newsItem);\n    return true;\n  }\n\n  // Message methods\n  async getMessages(groupId?: string, userId?: string): Promise<Message[]> {\n    return Array.from(this.messages.values())\n      .filter(msg => {\n        if (groupId) return msg.groupId === groupId;\n        if (userId) return msg.recipientId === userId || msg.senderId === userId;\n        return true;\n      })\n      .sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateA - dateB;\n      });\n  }\n\n  async getMessage(id: string): Promise<Message | undefined> {\n    return this.messages.get(id);\n  }\n\n  async createMessage(insertMessage: InsertMessage): Promise<Message> {\n    const id = randomUUID();\n    const message: Message = {\n      id,\n      senderId: insertMessage.senderId,\n      recipientId: insertMessage.recipientId ?? null,\n      groupId: insertMessage.groupId ?? null,\n      content: insertMessage.content,\n      imageUrl: insertMessage.imageUrl ?? null,\n      messageType: insertMessage.messageType,\n      createdAt: new Date(),\n    };\n    this.messages.set(id, message);\n    return message;\n  }\n\n  async deleteMessage(id: string): Promise<boolean> {\n    return this.messages.delete(id);\n  }\n\n  // Notification methods\n  async getNotifications(userId: string, type?: string): Promise<Notification[]> {\n    return Array.from(this.notifications.values())\n      .filter(notif => {\n        if (notif.userId !== userId) return false;\n        if (type && notif.type !== type) return false;\n        return true;\n      })\n      .sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n      });\n  }\n\n  async getNotification(id: string): Promise<Notification | undefined> {\n    return this.notifications.get(id);\n  }\n\n  async createNotification(insertNotification: InsertNotification): Promise<Notification> {\n    const id = randomUUID();\n    const notification: Notification = {\n      id,\n      userId: insertNotification.userId,\n      type: insertNotification.type,\n      title: insertNotification.title,\n      description: insertNotification.description,\n      actionUrl: insertNotification.actionUrl ?? null,\n      relatedId: insertNotification.relatedId ?? null,\n      relatedUserIds: insertNotification.relatedUserIds ?? null,\n      isRead: false,\n      createdAt: new Date(),\n    };\n    this.notifications.set(id, notification);\n    return notification;\n  }\n\n  async markNotificationAsRead(id: string): Promise<boolean> {\n    const notification = this.notifications.get(id);\n    if (!notification) return false;\n    \n    notification.isRead = true;\n    this.notifications.set(id, notification);\n    return true;\n  }\n\n  async deleteNotification(id: string): Promise<boolean> {\n    return this.notifications.delete(id);\n  }\n\n  // Event Guest methods\n  async getEventGuests(eventId: string): Promise<EventGuest[]> {\n    return Array.from(this.eventGuests.values())\n      .filter(guest => guest.eventId === eventId);\n  }\n\n  async createEventGuest(insertGuest: InsertEventGuest): Promise<EventGuest> {\n    const id = randomUUID();\n    const guest: EventGuest = {\n      id,\n      eventId: insertGuest.eventId,\n      userId: insertGuest.userId,\n      status: insertGuest.status,\n      createdAt: new Date(),\n    };\n    this.eventGuests.set(id, guest);\n    return guest;\n  }\n\n  async updateEventGuestStatus(eventId: string, userId: string, status: string): Promise<boolean> {\n    const guest = Array.from(this.eventGuests.values())\n      .find(g => g.eventId === eventId && g.userId === userId);\n    if (!guest) return false;\n    \n    guest.status = status;\n    this.eventGuests.set(guest.id, guest);\n    return true;\n  }\n\n  // Event Comment methods\n  async getEventComments(eventId: string): Promise<EventComment[]> {\n    return Array.from(this.eventComments.values())\n      .filter(comment => comment.eventId === eventId)\n      .sort((a, b) => {\n        const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n        const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n        return dateB - dateA;\n      });\n  }\n\n  async createEventComment(insertComment: InsertEventComment): Promise<EventComment> {\n    const id = randomUUID();\n    const comment: EventComment = {\n      id,\n      eventId: insertComment.eventId,\n      userId: insertComment.userId,\n      content: insertComment.content,\n      createdAt: new Date(),\n    };\n    this.eventComments.set(id, comment);\n    return comment;\n  }\n\n  async deleteEventComment(id: string): Promise<boolean> {\n    return this.eventComments.delete(id);\n  }\n\n  // Group Member methods\n  async getGroupMembers(groupId: string): Promise<GroupMember[]> {\n    return Array.from(this.groupMembers.values())\n      .filter(member => member.groupId === groupId);\n  }\n\n  async getUserGroups(userId: string): Promise<GroupMember[]> {\n    return Array.from(this.groupMembers.values())\n      .filter(member => member.userId === userId)\n      .sort((a, b) => {\n        const dateA = a.joinedAt ? new Date(a.joinedAt).getTime() : 0;\n        const dateB = b.joinedAt ? new Date(b.joinedAt).getTime() : 0;\n        return dateB - dateA;\n      });\n  }\n\n  async createGroupMember(insertMember: InsertGroupMember): Promise<GroupMember> {\n    const id = randomUUID();\n    const member: GroupMember = {\n      id,\n      groupId: insertMember.groupId,\n      userId: insertMember.userId,\n      role: insertMember.role ?? \"member\",\n      joinedAt: new Date(),\n    };\n    this.groupMembers.set(id, member);\n    return member;\n  }\n\n  async deleteGroupMember(groupId: string, userId: string): Promise<boolean> {\n    const member = Array.from(this.groupMembers.values())\n      .find(m => m.groupId === groupId && m.userId === userId);\n    if (!member) return false;\n    \n    return this.groupMembers.delete(member.id);\n  }\n}\n\n// Use DatabaseStorage for production with PostgreSQL\nexport const storage = new DatabaseStorage();\n\n// Keep MemStorage available for testing/development if needed\n// export const storage = new MemStorage();\n","size_bytes":35152},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2066},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/examples/TopBar.tsx":{"content":"import TopBar from '../TopBar'\n\nexport default function TopBarExample() {\n  return <TopBar />\n}\n","size_bytes":96},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport Home from \"@/pages/Home\";\nimport Events from \"@/pages/Events\";\nimport CreateEvent from \"@/pages/CreateEvent\";\nimport CreateGroup from \"@/pages/CreateGroup\";\nimport Groups from \"@/pages/Groups\";\nimport News from \"@/pages/News\";\nimport Profile from \"@/pages/Profile\";\nimport EventDetails from \"@/pages/EventDetails\";\nimport ActivityDetails from \"@/pages/ActivityDetails\";\nimport GroupChat from \"@/pages/GroupChat\";\nimport Notifications from \"@/pages/Notifications\";\nimport DirectChat from \"@/pages/DirectChat\";\nimport MyGroups from \"@/pages/MyGroups\";\nimport Settings from \"@/pages/Settings\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/events\" component={Events} />\n      <Route path=\"/create-event\" component={CreateEvent} />\n      <Route path=\"/event/:id\" component={EventDetails} />\n      <Route path=\"/activity/:id\" component={ActivityDetails} />\n      <Route path=\"/groups\" component={Groups} />\n      <Route path=\"/create-group\" component={CreateGroup} />\n      <Route path=\"/my-groups\" component={MyGroups} />\n      <Route path=\"/group/:id/chat\" component={GroupChat} />\n      <Route path=\"/news\" component={News} />\n      <Route path=\"/notifications\" component={Notifications} />\n      <Route path=\"/chat/:username\" component={DirectChat} />\n      <Route path=\"/settings\" component={Settings} />\n      <Route path=\"/profile\" component={Profile} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <div className=\"max-w-md mx-auto bg-background min-h-screen\">\n          <Toaster />\n          <Router />\n        </div>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":2014},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ActivityCard.tsx":{"content":"import { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Heart, MessageCircle, Share2, MoreVertical, MapPin, Calendar, DollarSign, Users } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useState } from \"react\";\nimport { api } from \"@/lib/api\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { useLocation } from \"wouter\";\n\ninterface ActivityCardProps {\n  id: string;\n  author: {\n    name: string;\n    username: string;\n    avatar?: string;\n  };\n  title: string;\n  description?: string;\n  imageUrl?: string;\n  location?: string;\n  startDate?: string;\n  cost?: string;\n  category?: string;\n  likesCount: number;\n  commentsCount: number;\n  participantsCount?: number;\n  maxParticipants?: number;\n  timeAgo: string;\n  isFollowing?: boolean;\n}\n\nexport default function ActivityCard({\n  id,\n  author,\n  title,\n  description,\n  imageUrl,\n  location,\n  startDate,\n  cost,\n  category,\n  likesCount,\n  commentsCount,\n  participantsCount,\n  maxParticipants,\n  timeAgo,\n  isFollowing = false,\n}: ActivityCardProps) {\n  const [, setLocation] = useLocation();\n  const [liked, setLiked] = useState(false);\n  const [likes, setLikes] = useState(likesCount);\n  const [following, setFollowing] = useState(isFollowing);\n\n  const handleLike = async () => {\n    const newLiked = !liked;\n    setLiked(newLiked);\n    setLikes(newLiked ? likes + 1 : likes - 1);\n    \n    try {\n      await api.likeActivity(id, newLiked);\n      queryClient.invalidateQueries({ queryKey: [\"/api/activities\"] });\n    } catch (error) {\n      setLiked(!newLiked);\n      setLikes(newLiked ? likes - 1 : likes + 1);\n      console.error(\"Failed to like activity:\", error);\n    }\n  };\n\n  const handleFollow = () => {\n    setFollowing(!following);\n    console.log(`${following ? \"Unfollowed\" : \"Followed\"} ${author.username}`);\n  };\n\n  return (\n    <div className=\"bg-background border-b border-border pb-4\">\n      <div className=\"flex items-center justify-between px-4 py-3\">\n        <div className=\"flex items-center gap-3\">\n          <Avatar className=\"w-10 h-10\">\n            <AvatarImage src={author.avatar} />\n            <AvatarFallback>{author.name[0]}</AvatarFallback>\n          </Avatar>\n          <div>\n            <p className=\"text-sm font-semibold text-foreground\">{author.name}</p>\n            <p className=\"text-xs text-muted-foreground\">{timeAgo}</p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          {!following && (\n            <Button\n              variant=\"default\"\n              size=\"sm\"\n              className=\"bg-gradient-primary text-white h-8\"\n              onClick={handleFollow}\n              data-testid=\"button-follow\"\n            >\n              Follow\n            </Button>\n          )}\n          <button data-testid=\"button-menu\" className=\"text-muted-foreground\">\n            <MoreVertical className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {category && (\n        <div className=\"px-4 mb-2\">\n          <Badge variant=\"secondary\" className=\"text-xs\">\n            {category}\n          </Badge>\n        </div>\n      )}\n\n      {imageUrl && (\n        <div className=\"w-full cursor-pointer\" onClick={() => setLocation(`/activity/${id}`)}>\n          <img\n            src={imageUrl}\n            alt={title}\n            className=\"w-full object-cover\"\n            style={{ aspectRatio: \"16/9\" }}\n          />\n        </div>\n      )}\n\n      <div className=\"px-4 pt-3\">\n        <h3 className=\"text-base font-semibold text-foreground mb-1\">{title}</h3>\n        {description && (\n          <p className=\"text-sm text-foreground mb-3\">{description}</p>\n        )}\n\n        <div className=\"flex flex-col gap-2 text-xs text-muted-foreground mb-3\">\n          {startDate && (\n            <div className=\"flex items-center gap-2\">\n              <Calendar className=\"w-4 h-4\" />\n              <span>{startDate}</span>\n            </div>\n          )}\n          {location && (\n            <div className=\"flex items-center gap-2\">\n              <MapPin className=\"w-4 h-4\" />\n              <span>{location}</span>\n            </div>\n          )}\n          {participantsCount !== undefined && (\n            <div className=\"flex items-center gap-2\">\n              <Users className=\"w-4 h-4\" />\n              <span>\n                {participantsCount}/{maxParticipants || \"∞\"} attendees{\" \"}\n                {maxParticipants && `(${maxParticipants - participantsCount} spots left)`}\n              </span>\n            </div>\n          )}\n          {cost && (\n            <div className=\"flex items-center gap-2\">\n              <DollarSign className=\"w-4 h-4\" />\n              <span className=\"font-semibold text-primary\">{cost}</span>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <button\n              onClick={handleLike}\n              className=\"flex items-center gap-1 hover-elevate active-elevate-2\"\n              data-testid=\"button-like\"\n            >\n              <Heart\n                className={`w-5 h-5 ${liked ? \"fill-destructive text-destructive\" : \"text-foreground\"}`}\n              />\n              <span className=\"text-xs text-muted-foreground\">{likes}</span>\n            </button>\n            <button\n              className=\"flex items-center gap-1 hover-elevate active-elevate-2\"\n              data-testid=\"button-comment\"\n            >\n              <MessageCircle className=\"w-5 h-5 text-foreground\" />\n              <span className=\"text-xs text-muted-foreground\">{commentsCount}</span>\n            </button>\n            <button\n              className=\"flex items-center gap-1 hover-elevate active-elevate-2\"\n              data-testid=\"button-share\"\n            >\n              <Share2 className=\"w-5 h-5 text-foreground\" />\n            </button>\n          </div>\n          <Button\n            variant=\"default\"\n            size=\"sm\"\n            className=\"bg-gradient-primary text-white h-9\"\n            onClick={() => setLocation(`/activity/${id}`)}\n            data-testid=\"button-join\"\n          >\n            Join\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6284},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/examples/GroupCard.tsx":{"content":"import GroupCard from '../GroupCard'\n\nexport default function GroupCardExample() {\n  return (\n    <div className=\"p-4 max-w-md\">\n      <GroupCard\n        id=\"1\"\n        name=\"Kanpur Startups\"\n        imageUrl=\"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400\"\n        category=\"Startups\"\n        membersCount={1200}\n        groupType=\"Public\"\n      />\n    </div>\n  )\n}\n","size_bytes":387},"client/src/components/SearchBar.tsx":{"content":"import { Search } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\n\ninterface SearchBarProps {\n  placeholder?: string;\n  value?: string;\n  onChange?: (value: string) => void;\n}\n\nexport default function SearchBar({\n  placeholder = \"Search...\",\n  value,\n  onChange,\n}: SearchBarProps) {\n  return (\n    <div className=\"relative\">\n      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground pointer-events-none\" />\n      <Input\n        type=\"search\"\n        placeholder={placeholder}\n        value={value}\n        onChange={(e) => onChange?.(e.target.value)}\n        className=\"pl-10 bg-muted border-0 h-11\"\n        data-testid=\"input-search\"\n      />\n    </div>\n  );\n}\n","size_bytes":721},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/NewsCard.tsx":{"content":"import { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Heart, MessageCircle, Share2, ThumbsUp, ThumbsDown } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useState } from \"react\";\nimport { api } from \"@/lib/api\";\nimport { queryClient } from \"@/lib/queryClient\";\n\ninterface NewsCardProps {\n  id: string;\n  author: {\n    name: string;\n    location: string;\n    avatar?: string;\n  };\n  headline: string;\n  description: string;\n  imageUrl?: string;\n  category: string;\n  trueVotes: number;\n  fakeVotes: number;\n  likesCount: number;\n  commentsCount: number;\n  timeAgo: string;\n}\n\nexport default function NewsCard({\n  id,\n  author,\n  headline,\n  description,\n  imageUrl,\n  category,\n  trueVotes,\n  fakeVotes,\n  likesCount,\n  commentsCount,\n  timeAgo,\n}: NewsCardProps) {\n  const [liked, setLiked] = useState(false);\n  const [likes, setLikes] = useState(likesCount);\n  const [userVote, setUserVote] = useState<\"true\" | \"fake\" | null>(null);\n  const [votes, setVotes] = useState({ true: trueVotes, fake: fakeVotes });\n\n  const totalVotes = votes.true + votes.fake;\n  const truePercentage = totalVotes > 0 ? (votes.true / totalVotes) * 100 : 0;\n  const fakePercentage = totalVotes > 0 ? (votes.fake / totalVotes) * 100 : 0;\n\n  const handleVote = async (vote: \"true\" | \"fake\") => {\n    const previousVote = userVote;\n    const previousVotes = { ...votes };\n\n    if (userVote === vote) {\n      setUserVote(null);\n      setVotes({ ...votes, [vote]: votes[vote] - 1 });\n      try {\n        await api.voteNews(id, vote, false);\n        queryClient.invalidateQueries({ queryKey: [\"/api/news\"] });\n      } catch (error) {\n        setUserVote(previousVote);\n        setVotes(previousVotes);\n        console.error(\"Failed to remove vote:\", error);\n      }\n    } else {\n      if (userVote) {\n        setVotes({ \n          ...votes, \n          [userVote]: votes[userVote] - 1, \n          [vote]: votes[vote] + 1 \n        });\n        try {\n          await api.voteNews(id, userVote, false);\n          await api.voteNews(id, vote, true);\n          queryClient.invalidateQueries({ queryKey: [\"/api/news\"] });\n        } catch (error) {\n          setUserVote(previousVote);\n          setVotes(previousVotes);\n          console.error(\"Failed to change vote:\", error);\n        }\n      } else {\n        setVotes({ ...votes, [vote]: votes[vote] + 1 });\n        try {\n          await api.voteNews(id, vote, true);\n          queryClient.invalidateQueries({ queryKey: [\"/api/news\"] });\n        } catch (error) {\n          setUserVote(previousVote);\n          setVotes(previousVotes);\n          console.error(\"Failed to vote:\", error);\n        }\n      }\n      setUserVote(vote);\n    }\n  };\n\n  const handleLike = async () => {\n    const newLiked = !liked;\n    setLiked(newLiked);\n    setLikes(newLiked ? likes + 1 : likes - 1);\n    \n    try {\n      await api.likeNews(id, newLiked);\n      queryClient.invalidateQueries({ queryKey: [\"/api/news\"] });\n    } catch (error) {\n      setLiked(!newLiked);\n      setLikes(newLiked ? likes - 1 : likes + 1);\n      console.error(\"Failed to like news:\", error);\n    }\n  };\n\n  return (\n    <div className=\"bg-card rounded-xl border border-card-border overflow-hidden\">\n      <div className=\"p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <div className=\"flex items-center gap-2\">\n            <Avatar className=\"w-8 h-8\">\n              <AvatarImage src={author.avatar} />\n              <AvatarFallback className=\"text-xs\">{author.name[0]}</AvatarFallback>\n            </Avatar>\n            <div>\n              <p className=\"text-xs font-semibold text-foreground\">{author.name}</p>\n              <p className=\"text-xs text-muted-foreground\">\n                {author.location} • {timeAgo}\n              </p>\n            </div>\n          </div>\n          <Badge variant=\"secondary\" className=\"text-xs\">\n            {category}\n          </Badge>\n        </div>\n\n        <h3 className=\"text-base font-semibold text-foreground mb-2\">{headline}</h3>\n        <p className=\"text-sm text-foreground mb-3\">{description}</p>\n\n        {imageUrl && (\n          <div className=\"mb-3 rounded-lg overflow-hidden\">\n            <img\n              src={imageUrl}\n              alt={headline}\n              className=\"w-full object-cover\"\n              style={{ aspectRatio: \"16/9\" }}\n            />\n          </div>\n        )}\n\n        <div className=\"flex gap-2 mb-3\">\n          <Button\n            variant={userVote === \"true\" ? \"default\" : \"outline\"}\n            size=\"sm\"\n            className={`flex-1 h-10 gap-2 ${\n              userVote === \"true\"\n                ? \"bg-chart-3 hover:bg-chart-3 text-white\"\n                : \"border-chart-3/50 hover:bg-chart-3/10\"\n            }`}\n            onClick={() => handleVote(\"true\")}\n            data-testid=\"button-vote-true\"\n          >\n            <ThumbsUp className=\"w-4 h-4\" />\n            <span className=\"text-xs font-semibold\">True ({votes.true})</span>\n          </Button>\n          <Button\n            variant={userVote === \"fake\" ? \"default\" : \"outline\"}\n            size=\"sm\"\n            className={`flex-1 h-10 gap-2 ${\n              userVote === \"fake\"\n                ? \"bg-destructive hover:bg-destructive text-white\"\n                : \"border-destructive/50 hover:bg-destructive/10\"\n            }`}\n            onClick={() => handleVote(\"fake\")}\n            data-testid=\"button-vote-fake\"\n          >\n            <ThumbsDown className=\"w-4 h-4\" />\n            <span className=\"text-xs font-semibold\">FAKE ({votes.fake})</span>\n          </Button>\n        </div>\n\n        {totalVotes > 0 && (\n          <div className=\"flex gap-1 mb-3 h-2 rounded-full overflow-hidden\">\n            <div\n              className=\"bg-chart-3\"\n              style={{ width: `${truePercentage}%` }}\n            />\n            <div\n              className=\"bg-destructive\"\n              style={{ width: `${fakePercentage}%` }}\n            />\n          </div>\n        )}\n\n        <div className=\"flex items-center gap-4 text-muted-foreground\">\n          <button\n            onClick={handleLike}\n            className=\"flex items-center gap-1 hover-elevate active-elevate-2\"\n            data-testid=\"button-like-news\"\n          >\n            <Heart\n              className={`w-5 h-5 ${liked ? \"fill-destructive text-destructive\" : \"\"}`}\n            />\n            <span className=\"text-xs\">{likes}</span>\n          </button>\n          <button\n            className=\"flex items-center gap-1 hover-elevate active-elevate-2\"\n            data-testid=\"button-comment-news\"\n          >\n            <MessageCircle className=\"w-5 h-5\" />\n            <span className=\"text-xs\">{commentsCount}</span>\n          </button>\n          <button\n            className=\"flex items-center gap-1 hover-elevate active-elevate-2\"\n            data-testid=\"button-share-news\"\n          >\n            <Share2 className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7047},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/examples/EventCard.tsx":{"content":"import EventCard from '../EventCard'\n\nexport default function EventCardExample() {\n  return (\n    <div className=\"p-4 max-w-md\">\n      <EventCard\n        id=\"1\"\n        title=\"TechSparks 2024\"\n        imageUrl=\"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800\"\n        host={{\n          name: \"TechHub\",\n          username: \"@techub\",\n          avatar: \"https://api.dicebear.com/7.x/initials/svg?seed=TH\"\n        }}\n        date=\"Fri, 15 Dec • 10:00 AM\"\n        location=\"Bangalore International Centre\"\n        attendeesCount={125}\n        entryType=\"FREE\"\n        categories={[\"TECH\", \"STARTUP\"]}\n      />\n    </div>\n  )\n}\n","size_bytes":645},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/pages/News.tsx":{"content":"import TopBar from \"@/components/TopBar\";\nimport BottomNav from \"@/components/BottomNav\";\nimport NewsCard from \"@/components/NewsCard\";\nimport SearchBar from \"@/components/SearchBar\";\nimport CategoryPills from \"@/components/CategoryPills\";\nimport { Plus } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { api } from \"@/lib/api\";\nimport { CreateNewsDialog } from \"@/components/CreateNewsDialog\";\n\nexport default function News() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"All News\");\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n  const currentUserId = \"current-user-id\";\n\n  const { data: news = [], isLoading } = useQuery({\n    queryKey: [\"/api/news\"],\n    queryFn: api.getNews,\n  });\n\n  const { data: users = [] } = useQuery({\n    queryKey: [\"/api/users\"],\n    queryFn: async () => {\n      const userIds = Array.from(new Set(news.map(n => n.userId)));\n      return Promise.all(userIds.map(id => api.getUser(id).catch(() => null)));\n    },\n    enabled: news.length > 0,\n  });\n\n  const getUserById = (userId: string) => {\n    const user = users.find(u => u?.id === userId);\n    return user || { \n      id: userId, \n      name: \"@unknown\", \n      username: \"@user\",\n      location: \"Unknown\",\n      avatarUrl: `https://api.dicebear.com/7.x/initials/svg?seed=${userId}` \n    };\n  };\n\n  const getTimeAgo = (date: Date | null) => {\n    if (!date) return \"Just now\";\n    const now = new Date();\n    const diffMs = now.getTime() - new Date(date).getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 1) return \"Just now\";\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return `${diffDays}d ago`;\n  };\n\n  const filteredNews = news.filter(item => {\n    const matchesSearch = searchQuery === \"\" || \n      item.headline.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesCategory = selectedCategory === \"All News\" || \n      item.category === selectedCategory;\n    \n    return matchesSearch && matchesCategory;\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background pb-20\">\n        <TopBar title=\"News\" showActions={false} />\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-muted-foreground\">Loading news...</p>\n        </div>\n        <BottomNav />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <TopBar title=\"News\" showActions={false} />\n\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"p-4 space-y-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex-1\">\n              <SearchBar\n                placeholder=\"Search for news...\"\n                value={searchQuery}\n                onChange={setSearchQuery}\n              />\n            </div>\n            <Button\n              variant=\"default\"\n              size=\"sm\"\n              className=\"bg-gradient-primary text-white h-11 px-4 gap-2\"\n              onClick={() => setCreateDialogOpen(true)}\n              data-testid=\"button-create-news\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              Create News\n            </Button>\n          </div>\n\n          <CreateNewsDialog\n            open={createDialogOpen}\n            onOpenChange={setCreateDialogOpen}\n            userId={currentUserId}\n          />\n\n          <CategoryPills\n            categories={[\"All News\", \"Local\", \"National\", \"SPORT\"]}\n            onSelect={setSelectedCategory}\n          />\n\n          <div className=\"space-y-4\">\n            {filteredNews.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground\">\n                  No news items found. Create one to get started!\n                </p>\n              </div>\n            ) : (\n              filteredNews.map((newsItem) => {\n                const user = getUserById(newsItem.userId);\n                return (\n                  <NewsCard\n                    key={newsItem.id}\n                    id={newsItem.id}\n                    author={{\n                      name: user.username || \"@user\",\n                      location: newsItem.location || user.location || \"Unknown\",\n                      avatar: user.avatarUrl || undefined,\n                    }}\n                    headline={newsItem.headline}\n                    description={newsItem.description || \"\"}\n                    imageUrl={newsItem.imageUrl || undefined}\n                    category={newsItem.category}\n                    trueVotes={newsItem.trueVotes || 0}\n                    fakeVotes={newsItem.fakeVotes || 0}\n                    likesCount={newsItem.likesCount || 0}\n                    commentsCount={newsItem.commentsCount || 0}\n                    timeAgo={getTimeAgo(newsItem.publishedAt)}\n                  />\n                );\n              })\n            )}\n          </div>\n        </div>\n      </div>\n\n      <BottomNav />\n    </div>\n  );\n}\n","size_bytes":5280},"client/src/components/GroupCard.tsx":{"content":"import { Users, Lock, Globe } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface GroupCardProps {\n  id: string;\n  name: string;\n  imageUrl?: string;\n  category: string;\n  membersCount: number;\n  groupType: \"Public\" | \"Private\" | \"Invite-only\";\n}\n\nexport default function GroupCard({\n  name,\n  imageUrl,\n  category,\n  membersCount,\n  groupType,\n}: GroupCardProps) {\n  const getTypeIcon = () => {\n    switch (groupType) {\n      case \"Public\":\n        return <Globe className=\"w-3 h-3\" />;\n      case \"Private\":\n        return <Lock className=\"w-3 h-3\" />;\n      case \"Invite-only\":\n        return <Lock className=\"w-3 h-3\" />;\n    }\n  };\n\n  return (\n    <div className=\"bg-card rounded-xl border border-card-border p-4\">\n      <div className=\"flex items-start gap-3 mb-3\">\n        <div className=\"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-muted\">\n          {imageUrl ? (\n            <img src={imageUrl} alt={name} className=\"w-full h-full object-cover\" />\n          ) : (\n            <div className=\"w-full h-full bg-gradient-primary flex items-center justify-center text-white font-bold text-xl\">\n              {name[0]}\n            </div>\n          )}\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <Badge variant=\"secondary\" className=\"text-xs mb-2\">\n            {category}\n          </Badge>\n          <h3 className=\"text-base font-semibold text-foreground mb-1 truncate\">\n            {name}\n          </h3>\n          <div className=\"flex items-center gap-3 text-xs text-muted-foreground\">\n            <div className=\"flex items-center gap-1\">\n              <Users className=\"w-3 h-3\" />\n              <span>{membersCount.toLocaleString()} members</span>\n            </div>\n            <div className=\"flex items-center gap-1\">\n              {getTypeIcon()}\n              <span>{groupType}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Button\n        variant=\"default\"\n        size=\"sm\"\n        className=\"w-full bg-gradient-primary text-white h-10\"\n        data-testid=\"button-join-group\"\n      >\n        {groupType === \"Public\" ? \"Join Group\" : \"Request to Join\"}\n      </Button>\n    </div>\n  );\n}\n","size_bytes":2243},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Nearly - Location-Based Social Network\n\n## Overview\n\nNearly is a mobile-first social networking application designed for Indian users to connect with people and discover activities nearby. The app combines features from Instagram's visual interface and WhatsApp's messaging patterns to create a hyperlocal social experience. Users can share activities, discover events, join groups, and stay informed about local news - all centered around proximity and location-based discovery.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework & Build System**\n- React 18 with TypeScript for type-safe component development\n- Vite as the build tool and development server for fast HMR and optimized production builds\n- Wouter for lightweight client-side routing (replacing React Router)\n- Dark-mode-only UI with no light theme toggle to simplify the design system\n\n**UI Component System**\n- Radix UI primitives for accessible, unstyled base components (dialogs, dropdowns, popovers, etc.)\n- Shadcn/ui component library with \"new-york\" style variant\n- Tailwind CSS for utility-first styling with custom design tokens\n- Design inspired by Instagram's visual language and card-based layouts\n- Mobile-first approach targeting 375px-428px viewport (iPhone SE to iPhone Pro Max)\n\n**State Management**\n- TanStack Query (React Query) for server state management and caching\n- Query client configured with infinite stale time and disabled refetching for optimal performance\n- Local component state using React hooks for UI-only state\n\n**Key Design Decisions**\n- Instagram-inspired color palette with red (#ef4444 / HSL 0 84% 60%) for brand elements and primary actions\n- Dark theme as the only theme (HSL color values: background at 0 0% 7%, cards at 0 0% 12%)\n- Custom CSS variables for elevation states (hover/active) and button borders\n- Comprehensive component library including ActivityCard, EventCard, GroupCard, NewsCard with consistent interaction patterns\n\n### Backend Architecture\n\n**Runtime & Framework**\n- Node.js with Express.js for the HTTP server\n- TypeScript with ESM modules for type safety and modern JavaScript features\n- Custom middleware for request/response logging and error handling\n\n**API Design**\n- RESTful API architecture with resource-based endpoints\n- Endpoints organized by domain: `/api/users`, `/api/activities`, `/api/events`, `/api/groups`, `/api/news`\n- CRUD operations for all major entities with proper HTTP methods (GET, POST, PATCH, DELETE)\n- Special endpoints for interactions: like/unlike, voting (true/fake for news), participant counts\n\n**Data Layer**\n- Interface-based storage abstraction (`IStorage`) for flexibility\n- In-memory storage implementation (`MemStorage`) for development/testing\n- Designed for easy migration to database-backed storage\n- Schema validation using Zod with Drizzle-Zod integration\n\n**Development Environment**\n- Vite dev server running in middleware mode for seamless full-stack development\n- Hot module replacement (HMR) for instant frontend updates\n- Request logging with response capture and truncation\n\n### Data Storage Solutions\n\n**Database Configuration**\n- PostgreSQL as the target production database (via Drizzle ORM configuration)\n- Drizzle ORM for type-safe database queries and migrations\n- Schema defined in `shared/schema.ts` with proper relationships and constraints\n\n**Database Schema Design**\n\n*Users Table*\n- UUID primary keys with automatic generation\n- Profile fields: username (unique), name, bio, location, interests (array), avatarUrl\n- Aggregate counts: followers, following, posts for performance optimization\n\n*Activities Table*\n- Flexible activity creation with date ranges, participant limits, visibility controls\n- Location-based discovery support\n- Cost field for paid/free activities\n- Category system for filtering\n- Engagement metrics: likes, comments, participants\n\n*Events Table*\n- Structured event management with start/end dates\n- Entry type system (FREE/PAID) with optional pricing\n- Venue location and capacity management\n- Attendee tracking and organizer references\n\n*Groups Table*\n- Community organization with public/private/invite-only visibility\n- Category-based classification\n- Member count tracking\n- Cover images and descriptions\n\n*News Table*\n- Hyperlocal news sharing with location tagging\n- Truth verification system (true/fake vote counts)\n- Category filtering (Local, National, Sport, etc.)\n- Source attribution and user-generated content support\n\n**Key Design Decisions**\n- Timestamp columns use PostgreSQL's `timestamp` type\n- Array types for flexible data (interests, categories)\n- Integer counts denormalized for performance (avoiding expensive COUNT queries)\n- UUID generation handled by database for consistency\n\n### External Dependencies\n\n**UI Component Libraries**\n- @radix-ui/* (v1.x) - 20+ primitive components for accessible UI building blocks\n- shadcn/ui components configured with \"new-york\" style and dark theme\n- lucide-react for consistent iconography (Instagram-style icons)\n- class-variance-authority for type-safe component variants\n- tailwind-merge and clsx for conditional class name composition\n\n**Form Management**\n- react-hook-form for performant form state management\n- @hookform/resolvers for Zod schema integration\n- Validation schemas shared between client and server using Zod\n\n**Database & ORM**\n- drizzle-orm (v0.39.x) for type-safe SQL query building\n- drizzle-kit for schema migrations and database pushing\n- @neondatabase/serverless for PostgreSQL connection (serverless-optimized)\n- drizzle-zod for automatic Zod schema generation from database schema\n\n**Date & Time**\n- date-fns (v3.x) for date formatting and manipulation\n- Used for \"time ago\" displays, event date formatting, etc.\n\n**Development Tools**\n- @replit/vite-plugin-* suite for Replit-specific development features\n- tsx for TypeScript execution in development\n- esbuild for production server bundling\n\n**Design Tokens & Styling**\n- Custom Tailwind configuration with HSL-based color system\n- CSS variables for dynamic theming and elevation states\n- Border radius tokens: lg (9px), md (6px), sm (3px) matching Instagram's design\n- Gradient utilities for brand-consistent red (#ef4444) accent color\n\n**Key Integration Points**\n- Shared schema definitions between client and server prevent type mismatches\n- API client wrapper provides centralized request handling with proper error boundaries\n- Query client configuration ensures consistent caching behavior across all data fetching\n- Toast notifications for user feedback on create/update/delete operations","size_bytes":6652},"client/src/components/examples/ActivityCard.tsx":{"content":"import ActivityCard from '../ActivityCard'\n\nexport default function ActivityCardExample() {\n  return (\n    <ActivityCard\n      id=\"1\"\n      author={{\n        name: \"Rahul Kanpur\",\n        username: \"@rahul_kanpur\",\n        avatar: \"https://api.dicebear.com/7.x/avataaars/svg?seed=Rahul\"\n      }}\n      title=\"Going to watch Jawan at PVR Mall\"\n      description=\"Excited to announce a movie meetup for the new Shah Rukh Khan movie, 'Jawan'! Let's catch the first day first show together. It's going to be an amazing experience watching it with fellow fans. Anyone who's a fan of SRK is welcome to join!\"\n      imageUrl=\"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=800\"\n      location=\"PVR Mall, Kanpur, Uttar Pradesh\"\n      startDate=\"Tomorrow, 7:00 PM - 10:00 PM\"\n      cost=\"Paid Entry\"\n      category=\"Movies\"\n      likesCount={23}\n      commentsCount={5}\n      participantsCount={6}\n      maxParticipants={10}\n      timeAgo=\"2h ago\"\n    />\n  )\n}\n","size_bytes":968},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"design_guidelines.md":{"content":"# Nearly - Design Guidelines\n\n## Design Approach\n**Reference-Based Approach**: Instagram + WhatsApp hybrid\n- Primary inspiration: Instagram's visual language, card layouts, and interaction patterns\n- Secondary inspiration: WhatsApp's chat interface and group messaging UX\n- Target: Mobile-only social app for Indian users (no desktop/responsive variations needed)\n\n## Core Design Principles\n1. **Exact Replication**: Follow provided mockups precisely for layouts, spacing, and component sizing\n2. **Instagram Parity**: Match Instagram's icon sizes, text hierarchy, and interaction patterns\n3. **Dark-First**: Entire app operates in dark theme with no light mode toggle\n4. **Hyperlocal Context**: Design should emphasize location-based discovery and nearby connections\n\n## Color Palette\n\n### Dark Mode Colors (Primary)\n- Background Primary: 0 0% 7% (very dark gray, almost black)\n- Background Secondary: 0 0% 12% (card/container backgrounds)\n- Background Tertiary: 0 0% 18% (hover states, subtle elevation)\n- Text Primary: 0 0% 95% (main text)\n- Text Secondary: 0 0% 60% (timestamps, metadata)\n- Border: 0 0% 20% (dividers, card borders)\n\n### Brand & Accent Colors\n- Primary Brand Color: Red #ef4444 (HSL: 0 84% 60%)\n  - Used for primary action buttons, CTAs, brand accents, active icons, and all interactive elements\n  - Gradient Start: 0 84% 60% (red)\n  - Gradient End: 0 84% 60% (red - solid color, not gradient)\n- Success Green: 140 65% 50% (verified badges, positive actions)\n- Warning Red: 0 75% 60% (fake news voting, delete actions)\n\n## Typography\n\n### Font Stack\n- Primary: System UI fonts (`-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif`)\n- Emoji Support: Include \"Apple Color Emoji\", \"Segoe UI Emoji\"\n\n### Type Scale (Match Instagram Sizing)\n- Header Large: text-2xl font-bold (24px, profile name, event titles)\n- Header Medium: text-xl font-semibold (20px, section headers)\n- Body Regular: text-sm (14px, post content, descriptions)\n- Body Small: text-xs (12px, timestamps, metadata, follower counts)\n- Caption: text-xs text-gray-400 (11px, helper text, form labels)\n- Button Text: text-sm font-semibold (14px, all CTAs)\n\n## Layout System\n\n### Mobile Viewport\n- Target Width: 375px - 428px (iPhone SE to iPhone Pro Max)\n- Safe Areas: Account for bottom navigation (64px) and top status bar\n- Container: No side padding for edge-to-edge cards; px-4 for content within cards\n\n### Spacing Primitives\nUse Tailwind units: **2, 3, 4, 6, 8, 12, 16** for consistent rhythm\n- Component Padding: p-4 (cards, containers)\n- Vertical Spacing: space-y-4 (between feed items), space-y-2 (within components)\n- Icon-Text Gap: gap-2 or gap-3\n- Section Separation: mb-6 or mb-8\n\n### Grid & Cards\n- Feed Cards: Full-width with rounded-xl corners, subtle border\n- Event/Group Cards: Single column stacking, 16:9 image ratio\n- Profile Grid: 3-column photo grid (Instagram-style)\n\n## Component Library\n\n### Bottom Navigation (Fixed)\n- Height: 64px with border-t\n- 5 tabs: Home, Events, Groups, News, Profile\n- Active state: Text color matches gradient, icon filled\n- Inactive state: text-gray-400, icon outline\n- Icon size: w-6 h-6 (24px, Instagram standard)\n\n### Top Navigation Bar\n- Height: 56px with px-4 padding\n- Logo/Title: text-xl font-bold on left\n- Action Icons: Right-aligned, w-6 h-6 size\n- Background: Slightly elevated from main background\n\n### Cards & Feed Items\n- Border Radius: rounded-xl (12px)\n- Background: bg-gray-900 (slightly lighter than page background)\n- Border: border border-gray-800\n- Padding: p-4 internally\n- Shadow: No shadows (flat design)\n\n### Buttons & CTAs\n- Primary: Red solid color (`bg-gradient-primary` which uses #ef4444)\n- Height: h-11 or h-12 (44-48px for mobile touch targets)\n- Border Radius: rounded-full for primary CTAs, rounded-lg for secondary\n- Text: text-sm font-semibold text-white\n- Secondary: border border-gray-700 with text-white\n\n### Input Fields\n- Background: bg-gray-900\n- Border: border border-gray-700, focus:border-gray-600\n- Height: h-11 minimum (44px touch target)\n- Padding: px-4 py-3\n- Border Radius: rounded-lg\n- Placeholder: text-gray-500\n\n### Icons\n- Library: Heroicons (outline for inactive, solid for active states)\n- Standard Size: w-6 h-6 (24px)\n- Small Size: w-5 h-5 (20px for inline icons)\n- Color: Inherit from parent text color\n\n### Avatar & Profile Images\n- Small: w-8 h-8 (user mentions, comments)\n- Medium: w-10 h-10 (feed posts, group members)\n- Large: w-20 h-20 (profile page header)\n- Border Radius: rounded-full\n- Border: 2px solid gradient for stories/active status (optional)\n\n### Interaction Patterns\n- Like/Comment/Share: Icon + count, text-xs text-gray-400\n- Follow Button: Red background when not following, outlined when following\n- Join/RSVP: Red primary button (bg-gradient-primary)\n- Vote (News): Dual buttons - green (True) / red (FAKE) with vote counts\n\n## Feature-Specific Components\n\n### Activity Feed (Home)\n- Post Header: Avatar + Name + Timestamp + Menu (horizontal layout)\n- Content Area: Text + optional image/poll\n- Action Bar: Like, Comment, Join buttons with counts\n- Comments: Nested replies with smaller avatars and text-xs\n\n### Events\n- Event Card: Featured image (16:9), title, date/time, location, price badge\n- Filter Pills: Horizontal scroll, rounded-full chips with border\n- Category Icons: Small icons next to category names\n\n### Groups\n- Group Card: Square thumbnail, name, member count, privacy indicator\n- Chat Interface: WhatsApp-style bubbles (sender on right with red bg)\n- Message Input: Fixed bottom with rounded-full input field\n\n### News\n- News Card: Thumbnail + headline + source + timestamp\n- Vote Buttons: Side-by-side True/FAKE with percentage bars\n- Category Badges: Small colored pills (Local, National, Sport, Crime)\n\n### Profile\n- Header: Large avatar, bio, follower/following counts\n- Tab Bar: Posts, Events, Saved (underline indicator for active)\n- Photo Grid: 3 columns, square aspect ratio, minimal gap\n\n## Images & Media\n- Profile Photos: User-uploaded, circular crop\n- Event/Activity Images: 16:9 landscape, rounded corners\n- News Thumbnails: Square or 4:3 aspect ratio\n- Group Icons: Square, can be auto-generated with red background + initials\n\n## Accessibility & Interactions\n- Touch Targets: Minimum 44x44px for all interactive elements\n- Loading States: Skeleton screens with shimmer effect in gray-800/gray-700\n- Empty States: Icon + text-center with text-gray-400\n- Error States: Red accent with descriptive text\n- No hover states: Mobile-first, focus on tap/press interactions\n\n## Animation & Transitions\n- Minimize animations: Use only for critical feedback (like button press, page transitions)\n- Tab Switches: Instant, no fade/slide\n- Modal Entry: Slide up from bottom (iOS-style)\n- Pull to Refresh: Native-feeling elastic scroll","size_bytes":6787},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/pages/Home.tsx":{"content":"import TopBar from \"@/components/TopBar\";\nimport BottomNav from \"@/components/BottomNav\";\nimport ActivityCard from \"@/components/ActivityCard\";\nimport CategoryPills from \"@/components/CategoryPills\";\nimport { Plus, Image as ImageIcon, Video, MapPin } from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Input } from \"@/components/ui/input\";\nimport { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { api } from \"@/lib/api\";\nimport { format } from \"date-fns\";\nimport { CreateActivityDialog } from \"@/components/CreateActivityDialog\";\n\nexport default function Home() {\n  const [postText, setPostText] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n  const currentUserId = \"current-user-id\";\n\n  const { data: activities = [], isLoading } = useQuery({\n    queryKey: [\"/api/activities\"],\n    queryFn: api.getActivities,\n  });\n\n  const { data: users = [] } = useQuery({\n    queryKey: [\"/api/users\"],\n    queryFn: async () => {\n      // Get unique user IDs from activities\n      const userIds = Array.from(new Set(activities.map(a => a.userId)));\n      // Fetch all users (in real app, would batch this)\n      return Promise.all(userIds.map(id => api.getUser(id).catch(() => null)));\n    },\n    enabled: activities.length > 0,\n  });\n\n  const getUserById = (userId: string) => {\n    const user = users.find(u => u?.id === userId);\n    return user || { \n      id: userId, \n      name: \"Unknown User\", \n      username: \"@user\",\n      avatarUrl: `https://api.dicebear.com/7.x/avataaars/svg?seed=${userId}` \n    };\n  };\n\n  const getTimeAgo = (date: Date | null) => {\n    if (!date) return \"Just now\";\n    const now = new Date();\n    const diffMs = now.getTime() - new Date(date).getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n\n    if (diffMins < 1) return \"Just now\";\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return `${diffDays}d ago`;\n  };\n\n  const filteredActivities = selectedCategory === \"All\" \n    ? activities \n    : activities.filter(a => a.category === selectedCategory);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background pb-20\">\n        <TopBar />\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-muted-foreground\">Loading activities...</p>\n        </div>\n        <BottomNav />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <TopBar />\n\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"border-b border-border p-4\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <Avatar className=\"w-10 h-10\">\n              <AvatarImage src=\"https://api.dicebear.com/7.x/avataaars/svg?seed=CurrentUser\" />\n              <AvatarFallback>You</AvatarFallback>\n            </Avatar>\n            <button\n              onClick={() => setCreateDialogOpen(true)}\n              className=\"flex-1 text-left px-4 py-2 bg-muted rounded-full text-muted-foreground\"\n              data-testid=\"input-post\"\n            >\n              What are you up to?\n            </button>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex gap-4\">\n              <button\n                className=\"text-muted-foreground hover-elevate active-elevate-2\"\n                data-testid=\"button-add-image\"\n              >\n                <ImageIcon className=\"w-5 h-5\" />\n              </button>\n              <button\n                className=\"text-muted-foreground hover-elevate active-elevate-2\"\n                data-testid=\"button-add-video\"\n              >\n                <Video className=\"w-5 h-5\" />\n              </button>\n              <button\n                className=\"text-muted-foreground hover-elevate active-elevate-2\"\n                data-testid=\"button-add-location\"\n              >\n                <MapPin className=\"w-5 h-5\" />\n              </button>\n            </div>\n            <button\n              onClick={() => setCreateDialogOpen(true)}\n              className=\"text-primary font-semibold text-sm\"\n              data-testid=\"button-post\"\n            >\n              Post\n            </button>\n          </div>\n        </div>\n\n        <CreateActivityDialog\n          open={createDialogOpen}\n          onOpenChange={setCreateDialogOpen}\n          userId={currentUserId}\n        />\n\n        <div className=\"p-4 border-b border-border\">\n          <CategoryPills\n            categories={[\"All\", \"Movies\", \"Sports\", \"Food\"]}\n            onSelect={setSelectedCategory}\n          />\n        </div>\n\n        <div>\n          {filteredActivities.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-muted-foreground\">\n                No activities yet. Create one to get started!\n              </p>\n            </div>\n          ) : (\n            filteredActivities.map((activity) => {\n              const user = getUserById(activity.userId);\n              return (\n                <ActivityCard\n                  key={activity.id}\n                  id={activity.id}\n                  author={{\n                    name: user.name || \"Unknown\",\n                    username: user.username || \"@user\",\n                    avatar: user.avatarUrl || undefined,\n                  }}\n                  title={activity.title}\n                  description={activity.description || undefined}\n                  imageUrl={activity.imageUrl || undefined}\n                  location={activity.location || undefined}\n                  startDate={activity.startDate ? format(new Date(activity.startDate), \"MMM d, h:mm a\") : undefined}\n                  cost={activity.cost || undefined}\n                  category={activity.category || undefined}\n                  likesCount={activity.likesCount || 0}\n                  commentsCount={activity.commentsCount || 0}\n                  participantsCount={activity.participantsCount || 0}\n                  maxParticipants={activity.maxParticipants || undefined}\n                  timeAgo={getTimeAgo(activity.createdAt)}\n                />\n              );\n            })\n          )}\n        </div>\n      </div>\n\n      <BottomNav />\n    </div>\n  );\n}\n","size_bytes":6494},"client/src/pages/Profile.tsx":{"content":"import TopBar from \"@/components/TopBar\";\nimport BottomNav from \"@/components/BottomNav\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Settings, MessageCircle } from \"lucide-react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { api } from \"@/lib/api\";\n\nconst mockPosts = [\n  {\n    id: \"1\",\n    imageUrl: \"https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=400\",\n    type: \"image\",\n  },\n  {\n    id: \"2\",\n    imageUrl: \"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400\",\n    type: \"image\",\n  },\n  {\n    id: \"3\",\n    imageUrl: \"https://images.unsplash.com/photo-1551218808-94e220e084d2?w=400\",\n    type: \"activity\",\n    title: \"Morning Yoga\",\n    subtitle: \"Lodhi Garden, 7 AM\",\n  },\n  {\n    id: \"4\",\n    imageUrl: \"https://images.unsplash.com/photo-1564501049412-61c2a3083791?w=400\",\n    type: \"poll\",\n    title: \"Best Biryani in CP?\",\n    subtitle: \"Vote for your favorite!\",\n    options: [\"A. Paradise\", \"B. Bikkgane\"],\n  },\n  {\n    id: \"5\",\n    imageUrl: \"https://images.unsplash.com/photo-1587474260584-136574528ed5?w=400\",\n    type: \"image\",\n  },\n  {\n    id: \"6\",\n    imageUrl: \"https://images.unsplash.com/photo-1564769662461-755f2039c3ba?w=400\",\n    type: \"image\",\n  },\n];\n\nexport default function Profile() {\n  const { data: user, isLoading } = useQuery({\n    queryKey: [\"/api/users/username\", \"rahul_kanpur\"],\n    queryFn: () => api.getUserByUsername(\"rahul_kanpur\"),\n  });\n\n  if (isLoading || !user) {\n    return (\n      <div className=\"min-h-screen bg-background pb-20\">\n        <div className=\"flex items-center justify-center h-96\">\n          <p className=\"text-muted-foreground\">Loading profile...</p>\n        </div>\n        <BottomNav />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"flex items-center justify-between p-4 border-b border-border\">\n          <button data-testid=\"button-back\">\n            <span className=\"text-2xl\"></span>\n          </button>\n          <h2 className=\"text-lg font-semibold\">@{user.username}</h2>\n          <button data-testid=\"button-settings\">\n            <Settings className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <div className=\"p-4\">\n          <div className=\"flex items-start gap-4 mb-4\">\n            <div className=\"relative\">\n              <Avatar className=\"w-20 h-20\">\n                <AvatarImage src={user.avatarUrl || undefined} />\n                <AvatarFallback className=\"text-2xl\">{user.name[0]}</AvatarFallback>\n              </Avatar>\n              <button\n                className=\"absolute bottom-0 right-0 w-6 h-6 rounded-full bg-gradient-primary text-white flex items-center justify-center text-lg\"\n                data-testid=\"button-edit-avatar\"\n              >\n                +\n              </button>\n            </div>\n            <div className=\"flex-1\">\n              <h1 className=\"text-2xl font-bold text-foreground mb-1\">\n                {user.name}\n              </h1>\n              <p className=\"text-sm text-muted-foreground whitespace-pre-line mb-3\">\n                {user.bio}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3 mb-4\">\n            <Button\n              variant=\"secondary\"\n              className=\"flex-1 h-10\"\n              data-testid=\"button-edit-profile\"\n            >\n              Edit Profile\n            </Button>\n            <Button\n              variant=\"secondary\"\n              className=\"flex-1 h-10\"\n              data-testid=\"button-share-profile\"\n            >\n              Share Profile\n            </Button>\n            <Button\n              variant=\"secondary\"\n              size=\"icon\"\n              className=\"h-10 w-10\"\n              data-testid=\"button-message\"\n            >\n              <MessageCircle className=\"w-5 h-5\" />\n            </Button>\n          </div>\n\n          <div className=\"grid grid-cols-3 gap-4 mb-6\">\n            <div className=\"bg-card rounded-lg p-4 text-center\">\n              <p className=\"text-2xl font-bold text-foreground\">{user.postsCount || 0}</p>\n              <p className=\"text-xs text-muted-foreground\">Posts</p>\n            </div>\n            <div className=\"bg-card rounded-lg p-4 text-center\">\n              <p className=\"text-2xl font-bold text-foreground\">\n                {(user.followersCount || 0) >= 1000\n                  ? `${((user.followersCount || 0) / 1000).toFixed(1)}k`\n                  : user.followersCount || 0}\n              </p>\n              <p className=\"text-xs text-muted-foreground\">Followers</p>\n            </div>\n            <div className=\"bg-card rounded-lg p-4 text-center\">\n              <p className=\"text-2xl font-bold text-foreground\">{user.followingCount || 0}</p>\n              <p className=\"text-xs text-muted-foreground\">Following</p>\n            </div>\n          </div>\n\n          <Tabs defaultValue=\"posts\" className=\"w-full\">\n            <TabsList className=\"w-full grid grid-cols-3 bg-muted h-10\">\n              <TabsTrigger value=\"posts\" data-testid=\"tab-posts\">\n                Posts\n              </TabsTrigger>\n              <TabsTrigger value=\"events\" data-testid=\"tab-events\">\n                Events\n              </TabsTrigger>\n              <TabsTrigger value=\"saved\" data-testid=\"tab-saved\">\n                Saved\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"posts\" className=\"mt-4\">\n              <div className=\"grid grid-cols-3 gap-1\">\n                {mockPosts.map((post) => (\n                  <div\n                    key={post.id}\n                    className=\"aspect-square relative rounded-sm overflow-hidden bg-muted\"\n                  >\n                    <img\n                      src={post.imageUrl}\n                      alt=\"Post\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                    {post.type === \"activity\" && (\n                      <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-2\">\n                        <p className=\"text-white text-xs font-semibold\">{post.title}</p>\n                        <p className=\"text-white/80 text-[10px]\">{post.subtitle}</p>\n                      </div>\n                    )}\n                    {post.type === \"poll\" && (\n                      <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent flex flex-col justify-end p-2\">\n                        <p className=\"text-white text-xs font-semibold\">{post.title}</p>\n                        <p className=\"text-white/80 text-[10px]\">{post.subtitle}</p>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"events\" className=\"mt-4\">\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground\">No events yet</p>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"saved\" className=\"mt-4\">\n              <div className=\"text-center py-12\">\n                <p className=\"text-muted-foreground\">No saved posts</p>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </div>\n\n      <BottomNav />\n    </div>\n  );\n}\n","size_bytes":7549},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/CreateNewsDialog.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { api } from \"@/lib/api\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface CreateNewsDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  userId: string;\n}\n\nexport function CreateNewsDialog({\n  open,\n  onOpenChange,\n  userId,\n}: CreateNewsDialogProps) {\n  const { toast } = useToast();\n  const [headline, setHeadline] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [category, setCategory] = useState(\"Local\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!headline.trim() || !description.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Please fill in all required fields\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await api.createNews({\n        userId,\n        headline: headline.trim(),\n        description: description.trim(),\n        location: location.trim() || \"Unknown\",\n        category,\n        imageUrl: null,\n        trueVotes: 0,\n        fakeVotes: 0,\n        likesCount: 0,\n        commentsCount: 0,\n        publishedAt: new Date(),\n      });\n\n      queryClient.invalidateQueries({ queryKey: [\"/api/news\"] });\n      \n      toast({\n        title: \"Success!\",\n        description: \"News posted successfully\",\n      });\n\n      setHeadline(\"\");\n      setDescription(\"\");\n      setLocation(\"\");\n      setCategory(\"Local\");\n      onOpenChange(false);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to post news. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Create News</DialogTitle>\n          <DialogDescription>\n            Share local news with your community\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit}>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"news-headline\">Headline *</Label>\n              <Input\n                id=\"news-headline\"\n                value={headline}\n                onChange={(e) => setHeadline(e.target.value)}\n                placeholder=\"e.g., New café opening in Swaroop Nagar\"\n                data-testid=\"input-news-headline\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"news-description\">Description *</Label>\n              <Textarea\n                id=\"news-description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"Provide details about the news\"\n                data-testid=\"input-news-description\"\n                className=\"min-h-20\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"news-location\">Location</Label>\n                <Input\n                  id=\"news-location\"\n                  value={location}\n                  onChange={(e) => setLocation(e.target.value)}\n                  placeholder=\"e.g., Kanpur\"\n                  data-testid=\"input-news-location\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"news-category\">Category</Label>\n                <Select value={category} onValueChange={setCategory}>\n                  <SelectTrigger data-testid=\"select-news-category\">\n                    <SelectValue placeholder=\"Select category\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Local\">Local</SelectItem>\n                    <SelectItem value=\"National\">National</SelectItem>\n                    <SelectItem value=\"SPORT\">Sport</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              data-testid=\"button-cancel-news\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className=\"bg-gradient-primary text-white\"\n              disabled={isLoading}\n              data-testid=\"button-submit-news\"\n            >\n              {isLoading ? \"Posting...\" : \"Post News\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":5352},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/CategoryPills.tsx":{"content":"import { Badge } from \"@/components/ui/badge\";\nimport { useState } from \"react\";\n\ninterface CategoryPillsProps {\n  categories: string[];\n  onSelect?: (category: string) => void;\n}\n\nexport default function CategoryPills({ categories, onSelect }: CategoryPillsProps) {\n  const [selected, setSelected] = useState(categories[0]);\n\n  const handleSelect = (category: string) => {\n    setSelected(category);\n    onSelect?.(category);\n  };\n\n  return (\n    <div className=\"flex gap-2 overflow-x-auto pb-2 scrollbar-hide\">\n      {categories.map((category) => (\n        <Badge\n          key={category}\n          variant={selected === category ? \"default\" : \"outline\"}\n          className={`cursor-pointer whitespace-nowrap px-4 h-8 ${\n            selected === category\n              ? \"bg-gradient-primary text-white border-0\"\n              : \"border-border hover-elevate\"\n          }`}\n          onClick={() => handleSelect(category)}\n          data-testid={`pill-${category.toLowerCase()}`}\n        >\n          {category}\n        </Badge>\n      ))}\n    </div>\n  );\n}\n","size_bytes":1058},"client/src/components/examples/CategoryPills.tsx":{"content":"import CategoryPills from '../CategoryPills'\n\nexport default function CategoryPillsExample() {\n  return (\n    <div className=\"p-4\">\n      <CategoryPills \n        categories={[\"All News\", \"Local\", \"National\", \"SPORT\"]}\n        onSelect={(cat) => console.log('Selected:', cat)}\n      />\n    </div>\n  )\n}\n","size_bytes":302},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/CreateActivityDialog.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { api } from \"@/lib/api\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface CreateActivityDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  userId: string;\n}\n\nexport function CreateActivityDialog({\n  open,\n  onOpenChange,\n  userId,\n}: CreateActivityDialogProps) {\n  const { toast } = useToast();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [category, setCategory] = useState(\"Movies\");\n  const [cost, setCost] = useState(\"Free\");\n  const [maxParticipants, setMaxParticipants] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title.trim() || !location.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Please fill in all required fields\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await api.createActivity({\n        userId,\n        title: title.trim(),\n        description: description.trim() || null,\n        location: location.trim(),\n        category,\n        cost,\n        maxParticipants: maxParticipants ? parseInt(maxParticipants) : null,\n        visibility: \"Public\",\n        imageUrl: null,\n        startDate: new Date(Date.now() + 86400000),\n        endDate: null,\n        likesCount: 0,\n        commentsCount: 0,\n        participantsCount: 0,\n        createdAt: new Date(),\n      });\n\n      queryClient.invalidateQueries({ queryKey: [\"/api/activities\"] });\n      \n      toast({\n        title: \"Success!\",\n        description: \"Activity created successfully\",\n      });\n\n      setTitle(\"\");\n      setDescription(\"\");\n      setLocation(\"\");\n      setCategory(\"Movies\");\n      setCost(\"Free\");\n      setMaxParticipants(\"\");\n      onOpenChange(false);\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create activity. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Create Activity</DialogTitle>\n          <DialogDescription>\n            Share what you're planning to do and invite others to join\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit}>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"title\">Title *</Label>\n              <Input\n                id=\"title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                placeholder=\"e.g., Going to watch a movie\"\n                data-testid=\"input-activity-title\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"Add more details about your activity\"\n                data-testid=\"input-activity-description\"\n                className=\"min-h-20\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"location\">Location *</Label>\n              <Input\n                id=\"location\"\n                value={location}\n                onChange={(e) => setLocation(e.target.value)}\n                placeholder=\"e.g., PVR Mall, Kanpur\"\n                data-testid=\"input-activity-location\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"category\">Category</Label>\n              <Select value={category} onValueChange={setCategory}>\n                <SelectTrigger data-testid=\"select-activity-category\">\n                  <SelectValue placeholder=\"Select category\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"Movies\">Movies</SelectItem>\n                  <SelectItem value=\"Sports\">Sports</SelectItem>\n                  <SelectItem value=\"Food\">Food</SelectItem>\n                  <SelectItem value=\"Gaming\">Gaming</SelectItem>\n                  <SelectItem value=\"Travel\">Travel</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"cost\">Cost</Label>\n                <Select value={cost} onValueChange={setCost}>\n                  <SelectTrigger data-testid=\"select-activity-cost\">\n                    <SelectValue placeholder=\"Select cost\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Free\">Free</SelectItem>\n                    <SelectItem value=\"Paid Entry\">Paid Entry</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"maxParticipants\">Max Participants</Label>\n                <Input\n                  id=\"maxParticipants\"\n                  type=\"number\"\n                  value={maxParticipants}\n                  onChange={(e) => setMaxParticipants(e.target.value)}\n                  placeholder=\"10\"\n                  min=\"1\"\n                  data-testid=\"input-activity-max-participants\"\n                />\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              data-testid=\"button-cancel\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className=\"bg-gradient-primary text-white\"\n              disabled={isLoading}\n              data-testid=\"button-create-activity\"\n            >\n              {isLoading ? \"Creating...\" : \"Create Activity\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","size_bytes":6842},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/pages/MyGroups.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Link } from \"wouter\";\nimport { Search, Plus } from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { CreateGroupDialog } from \"@/components/CreateGroupDialog\";\nimport { format } from \"date-fns\";\n\ninterface Group {\n  id: string;\n  name: string;\n  description?: string | null;\n  imageUrl?: string | null;\n  membersCount?: number | null;\n  lastMessage?: string;\n  lastMessageTime?: string;\n  unreadCount?: number;\n}\n\nexport default function MyGroups() {\n  const [activeTab, setActiveTab] = useState(\"my\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false);\n  const currentUserId = \"current-user-id\";\n\n  const { data: myGroups = [] } = useQuery<Group[]>({\n    queryKey: [\"/api/users\", currentUserId, \"groups\"],\n  });\n\n  const { data: allGroups = [] } = useQuery<Group[]>({\n    queryKey: [\"/api/groups\"],\n  });\n\n  const displayedGroups = activeTab === \"my\" ? myGroups : allGroups;\n  const filteredGroups = displayedGroups.filter((group) =>\n    group.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const categories = [\n    { id: \"tech\", label: \"Tech\" },\n    { id: \"startups\", label: \"Startups\" },\n    { id: \"fitness\", label: \"Fitness\" },\n    { id: \"gaming\", label: \"Gaming\" },\n  ];\n\n  const formatTime = (time?: string) => {\n    if (!time) return \"\";\n    const date = new Date(time);\n    const now = new Date();\n    const diffInMs = now.getTime() - date.getTime();\n    const diffInHours = diffInMs / (1000 * 60 * 60);\n\n    if (diffInHours < 1) return `${Math.floor(diffInMs / (1000 * 60))} min ago`;\n    if (diffInHours < 24) return format(date, \"h:mm a\");\n    return \"Yesterday\";\n  };\n\n  const sampleGroupsData: Group[] = [\n    {\n      id: \"1\",\n      name: \"Kanpur Startups\",\n      description: \"Great talk at the meetup!\",\n      imageUrl: \"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400\",\n      membersCount: 1200,\n      lastMessage: \"Great talk at the meetup!\",\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 30).toISOString(),\n      unreadCount: 12,\n    },\n    {\n      id: \"2\",\n      name: \"Delhi Foodies\",\n      description: \"Just tried this new cafe...\",\n      imageUrl: \"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400\",\n      membersCount: 875,\n      lastMessage: \"Just tried this new cafe...\",\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 5).toISOString(),\n      unreadCount: 3,\n    },\n    {\n      id: \"3\",\n      name: \"Bangalore Tech Hub\",\n      description: \"Anyone up for a game tonight?\",\n      imageUrl: \"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=400\",\n      membersCount: 2340,\n      lastMessage: \"Anyone up for a game tonight?\",\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 24).toISOString(),\n      unreadCount: 0,\n    },\n    {\n      id: \"4\",\n      name: \"Mumbai Movie Club\",\n      description: \"The new Spiderman movie wa...\",\n      imageUrl: \"\",\n      membersCount: 567,\n      lastMessage: \"The new Spiderman movie wa...\",\n      lastMessageTime: new Date(Date.now() - 1000 * 60 * 60 * 24).toISOString(),\n      unreadCount: 1,\n    },\n  ];\n\n  const groupsToDisplay = filteredGroups.length > 0 ? filteredGroups : sampleGroupsData;\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <div className=\"sticky top-0 bg-background border-b border-border z-10\">\n        <div className=\"flex items-center justify-between p-4\">\n          <h1 className=\"text-2xl font-bold text-foreground\">Groups</h1>\n          <button\n            onClick={() => setIsCreateDialogOpen(true)}\n            className=\"w-10 h-10 rounded-full bg-gradient-primary text-white flex items-center justify-center\"\n            data-testid=\"button-create-group\"\n          >\n            <Plus className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"px-4 pb-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search groups...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2.5 bg-muted rounded-full text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary\"\n              data-testid=\"input-search\"\n            />\n          </div>\n        </div>\n\n        <div className=\"flex border-b border-border\">\n          <button\n            onClick={() => setActiveTab(\"my\")}\n            className={`flex-1 pb-3 text-sm font-medium relative ${\n              activeTab === \"my\" ? \"text-foreground\" : \"text-muted-foreground\"\n            }`}\n            data-testid=\"tab-my-groups\"\n          >\n            My Groups\n            {activeTab === \"my\" && (\n              <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-primary\" />\n            )}\n          </button>\n          <button\n            onClick={() => setActiveTab(\"all\")}\n            className={`flex-1 pb-3 text-sm font-medium relative ${\n              activeTab === \"all\" ? \"text-foreground\" : \"text-muted-foreground\"\n            }`}\n            data-testid=\"tab-all-groups\"\n          >\n            All Groups\n            {activeTab === \"all\" && (\n              <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-primary\" />\n            )}\n          </button>\n        </div>\n      </div>\n\n      {activeTab === \"my\" && (\n        <div className=\"flex gap-2 px-4 py-3 overflow-x-auto\">\n          {categories.map((category) => (\n            <Badge\n              key={category.id}\n              variant=\"secondary\"\n              className=\"bg-muted text-foreground hover:bg-muted/80 cursor-pointer whitespace-nowrap\"\n              data-testid={`category-${category.id}`}\n            >\n              {category.label}\n            </Badge>\n          ))}\n        </div>\n      )}\n\n      <div className=\"divide-y divide-border\">\n        {groupsToDisplay.map((group) => (\n          <Link\n            key={group.id}\n            href={`/group/${group.id}/chat`}\n            className=\"flex items-center gap-3 p-4 hover-elevate active-elevate-2\"\n            data-testid={`group-${group.id}`}\n          >\n            <Avatar className=\"w-14 h-14 flex-shrink-0\">\n              <AvatarImage src={group.imageUrl || \"\"} />\n              <AvatarFallback className=\"bg-primary/20 text-primary text-lg font-semibold\">\n                {group.name.charAt(0)}\n              </AvatarFallback>\n            </Avatar>\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <p className=\"text-sm font-semibold text-foreground truncate\">\n                  {group.name}\n                </p>\n                {group.membersCount && group.membersCount > 1000 && (\n                  <span className=\"text-xs text-muted-foreground flex-shrink-0\">🔒</span>\n                )}\n              </div>\n              <p className=\"text-xs text-muted-foreground truncate\">\n                {group.lastMessage || group.description || \"No messages yet\"}\n              </p>\n            </div>\n            <div className=\"flex flex-col items-end gap-1 flex-shrink-0\">\n              <p className=\"text-xs text-muted-foreground\">\n                {formatTime(group.lastMessageTime)}\n              </p>\n              {group.unreadCount && group.unreadCount > 0 && (\n                <div className=\"w-5 h-5 rounded-full bg-gradient-primary text-white text-xs flex items-center justify-center font-semibold\">\n                  {group.unreadCount}\n                </div>\n              )}\n            </div>\n          </Link>\n        ))}\n\n        {groupsToDisplay.length === 0 && (\n          <div className=\"flex flex-col items-center justify-center py-20\">\n            <p className=\"text-muted-foreground\">No groups found</p>\n          </div>\n        )}\n      </div>\n\n      <CreateGroupDialog\n        open={isCreateDialogOpen}\n        onOpenChange={setIsCreateDialogOpen}\n      />\n    </div>\n  );\n}\n","size_bytes":8292},"client/src/pages/CreateEvent.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { z } from \"zod\";\nimport { ChevronLeft, ImageIcon, User, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { insertEventSchema } from \"@shared/schema\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface Guest {\n  id: string;\n  name: string;\n  role: string;\n}\n\nconst createEventFormSchema = insertEventSchema\n  .omit({ \n    attendeesCount: true,\n    startDate: true,\n    endDate: true,\n  })\n  .extend({\n    hostName: z.string().min(1, \"Host name is required\"),\n    startDate: z.string().min(1, \"Start date is required\"),\n    startTime: z.string().min(1, \"Start time is required\"),\n    endDate: z.string().optional(),\n    endTime: z.string().optional(),\n    maxAttendees: z.string().optional(),\n  });\n\ntype CreateEventFormValues = z.infer<typeof createEventFormSchema>;\n\nexport default function CreateEvent() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const currentUserId = \"current-user-id\";\n\n  const [guests, setGuests] = useState<Guest[]>([]);\n  const [guestName, setGuestName] = useState(\"\");\n  const [guestRole, setGuestRole] = useState(\"\");\n\n  const form = useForm<CreateEventFormValues>({\n    resolver: zodResolver(createEventFormSchema),\n    defaultValues: {\n      userId: currentUserId,\n      title: \"\",\n      hostName: \"\",\n      description: \"\",\n      location: \"\",\n      startDate: \"\",\n      startTime: \"\",\n      endDate: \"\",\n      endTime: \"\",\n      maxAttendees: \"\",\n      visibility: \"Public\",\n      entryType: \"FREE\",\n      price: null,\n      imageUrl: null,\n      category: [],\n    },\n  });\n\n  const createEventMutation = useMutation({\n    mutationFn: async (data: CreateEventFormValues) => {\n      const startDateTime = new Date(`${data.startDate}T${data.startTime}`);\n      const endDateTime = data.endDate && data.endTime \n        ? new Date(`${data.endDate}T${data.endTime}`)\n        : undefined;\n\n      const eventData: any = {\n        userId: data.userId,\n        title: data.title.trim(),\n        location: data.location.trim(),\n        entryType: data.entryType,\n        visibility: data.visibility,\n        startDate: startDateTime.toISOString(),\n        category: data.category || [],\n      };\n\n      // Only include optional fields if they have values\n      if (data.description?.trim()) {\n        eventData.description = data.description.trim();\n      }\n      if (endDateTime) {\n        eventData.endDate = endDateTime.toISOString();\n      }\n      if (data.maxAttendees) {\n        eventData.maxAttendees = parseInt(data.maxAttendees);\n      }\n      if (data.price !== null) {\n        eventData.price = data.price;\n      }\n      if (data.imageUrl) {\n        eventData.imageUrl = data.imageUrl;\n      }\n\n      return apiRequest(\"POST\", \"/api/events\", eventData);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\"] });\n      toast({\n        title: \"Success!\",\n        description: \"Event published successfully\",\n      });\n      setLocation(\"/events\");\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create event. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: CreateEventFormValues) => {\n    createEventMutation.mutate(data);\n  };\n\n  const addGuest = () => {\n    if (guestName.trim() && guestRole.trim()) {\n      setGuests([...guests, { id: Date.now().toString(), name: guestName, role: guestRole }]);\n      setGuestName(\"\");\n      setGuestRole(\"\");\n    }\n  };\n\n  const removeGuest = (id: string) => {\n    setGuests(guests.filter(g => g.id !== id));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"max-w-md mx-auto\">\n        {/* Header */}\n        <div className=\"flex items-center gap-3 p-4 border-b border-border\">\n          <button\n            onClick={() => setLocation(\"/events\")}\n            className=\"hover-elevate active-elevate-2\"\n            data-testid=\"button-back\"\n          >\n            <ChevronLeft className=\"w-6 h-6\" />\n          </button>\n          <h1 className=\"text-lg font-semibold\">Create Event</h1>\n        </div>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"p-4 space-y-6\">\n            {/* Event Title */}\n            <FormField\n              control={form.control}\n              name=\"title\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-sm font-medium\">Event Title*</FormLabel>\n                  <FormControl>\n                    <Input\n                      {...field}\n                      placeholder=\"e.g., Mumbai Startup Meetup\"\n                      data-testid=\"input-event-title\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Host Name */}\n            <FormField\n              control={form.control}\n              name=\"hostName\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-sm font-medium\">\n                    Host Organization or Personal Name*\n                  </FormLabel>\n                  <FormControl>\n                    <Input\n                      {...field}\n                      placeholder=\"e.g., IIT Bombay E-Cell or Priya Singh\"\n                      data-testid=\"input-host-name\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Description */}\n            <FormField\n              control={form.control}\n              name=\"description\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-sm font-medium\">Description (Optional)</FormLabel>\n                  <FormControl>\n                    <Textarea\n                      {...field}\n                      value={field.value || \"\"}\n                      placeholder=\"Tell everyone what your event is about...\"\n                      className=\"min-h-24 resize-none\"\n                      data-testid=\"input-description\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Add Photos/Videos */}\n            <div className=\"space-y-2\">\n              <FormLabel className=\"text-sm font-medium\">Add Photos/Videos (Optional)</FormLabel>\n              <div className=\"border-2 border-dashed border-border rounded-lg p-8 flex flex-col items-center justify-center gap-2 bg-muted/30\">\n                <ImageIcon className=\"w-8 h-8 text-muted-foreground\" />\n                <p className=\"text-sm text-muted-foreground\">Tap to upload from gallery</p>\n              </div>\n            </div>\n\n            {/* Location */}\n            <FormField\n              control={form.control}\n              name=\"location\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-sm font-medium\">Location*</FormLabel>\n                  <FormControl>\n                    <Input\n                      {...field}\n                      placeholder=\"Search or pick on map\"\n                      data-testid=\"input-location\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Start Date & Time */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <FormField\n                control={form.control}\n                name=\"startDate\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-sm font-medium\">Starts*</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        type=\"date\"\n                        data-testid=\"input-start-date\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"startTime\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-sm font-medium\">&nbsp;</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        type=\"time\"\n                        data-testid=\"input-start-time\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {/* End Date & Time */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <FormField\n                control={form.control}\n                name=\"endDate\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-sm font-medium\">Ends (Optional)</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        value={field.value || \"\"}\n                        type=\"date\"\n                        data-testid=\"input-end-date\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n              <FormField\n                control={form.control}\n                name=\"endTime\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-sm font-medium\">&nbsp;</FormLabel>\n                    <FormControl>\n                      <Input\n                        {...field}\n                        value={field.value || \"\"}\n                        type=\"time\"\n                        data-testid=\"input-end-time\"\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            {/* Maximum Attendees */}\n            <FormField\n              control={form.control}\n              name=\"maxAttendees\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-sm font-medium\">Maximum Attendees</FormLabel>\n                  <FormControl>\n                    <Input\n                      {...field}\n                      value={field.value || \"\"}\n                      type=\"number\"\n                      placeholder=\"e.g., 100 (or leave blank for unlimited)\"\n                      min=\"1\"\n                      data-testid=\"input-max-attendees\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Event Visibility */}\n            <FormField\n              control={form.control}\n              name=\"visibility\"\n              render={({ field }) => (\n                <FormItem className=\"space-y-3\">\n                  <FormLabel className=\"text-sm font-semibold\">Event Visibility</FormLabel>\n                  <FormControl>\n                    <RadioGroup\n                      onValueChange={field.onChange}\n                      value={field.value}\n                      className=\"space-y-3\"\n                    >\n                      <div\n                        className={`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer ${\n                          field.value === \"Public\"\n                            ? \"border-primary bg-primary/5\"\n                            : \"border-border\"\n                        }`}\n                        onClick={() => field.onChange(\"Public\")}\n                        data-testid=\"radio-visibility-public\"\n                      >\n                        <RadioGroupItem value=\"Public\" id=\"public\" className=\"mt-0.5\" />\n                        <div className=\"flex-1\">\n                          <label htmlFor=\"public\" className=\"font-medium cursor-pointer\">\n                            Public\n                          </label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            Anyone can see and join this event.\n                          </p>\n                        </div>\n                      </div>\n\n                      <div\n                        className={`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer ${\n                          field.value === \"Private\"\n                            ? \"border-primary bg-primary/5\"\n                            : \"border-border\"\n                        }`}\n                        onClick={() => field.onChange(\"Private\")}\n                        data-testid=\"radio-visibility-private\"\n                      >\n                        <RadioGroupItem value=\"Private\" id=\"private\" className=\"mt-0.5\" />\n                        <div className=\"flex-1\">\n                          <label htmlFor=\"private\" className=\"font-medium cursor-pointer\">\n                            Private\n                          </label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            Only people you approve can join.\n                          </p>\n                        </div>\n                      </div>\n\n                      <div\n                        className={`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer ${\n                          field.value === \"Invite Only\"\n                            ? \"border-primary bg-primary/5\"\n                            : \"border-border\"\n                        }`}\n                        onClick={() => field.onChange(\"Invite Only\")}\n                        data-testid=\"radio-visibility-invite\"\n                      >\n                        <RadioGroupItem value=\"Invite Only\" id=\"invite-only\" className=\"mt-0.5\" />\n                        <div className=\"flex-1\">\n                          <label htmlFor=\"invite-only\" className=\"font-medium cursor-pointer\">\n                            Invite Only\n                          </label>\n                          <p className=\"text-sm text-muted-foreground\">\n                            Anyone with the link can join.\n                          </p>\n                        </div>\n                      </div>\n                    </RadioGroup>\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Entry Type */}\n            <FormField\n              control={form.control}\n              name=\"entryType\"\n              render={({ field }) => (\n                <FormItem className=\"space-y-3\">\n                  <FormLabel className=\"text-sm font-semibold\">Entry Type*</FormLabel>\n                  <FormControl>\n                    <div className=\"grid grid-cols-3 gap-3\">\n                      <Button\n                        type=\"button\"\n                        variant={field.value === \"FREE\" ? \"default\" : \"outline\"}\n                        className={field.value === \"FREE\" ? \"bg-gradient-primary text-white\" : \"\"}\n                        onClick={() => field.onChange(\"FREE\")}\n                        data-testid=\"button-entry-free\"\n                      >\n                        Free\n                      </Button>\n                      <Button\n                        type=\"button\"\n                        variant={field.value === \"PAID\" ? \"default\" : \"outline\"}\n                        className={field.value === \"PAID\" ? \"bg-gradient-primary text-white\" : \"\"}\n                        onClick={() => field.onChange(\"PAID\")}\n                        data-testid=\"button-entry-paid\"\n                      >\n                        Paid\n                      </Button>\n                      <Button\n                        type=\"button\"\n                        variant={field.value === \"SPONSORED\" ? \"default\" : \"outline\"}\n                        className={field.value === \"SPONSORED\" ? \"bg-gradient-primary text-white\" : \"\"}\n                        onClick={() => field.onChange(\"SPONSORED\")}\n                        data-testid=\"button-entry-sponsored\"\n                      >\n                        Sponsored\n                      </Button>\n                    </div>\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Guest Details */}\n            <div className=\"space-y-3\">\n              <FormLabel className=\"text-sm font-semibold\">Guest Details (Optional)</FormLabel>\n              \n              {guests.map((guest) => (\n                <div\n                  key={guest.id}\n                  className=\"flex items-center gap-3 p-3 bg-muted rounded-lg\"\n                >\n                  <Avatar className=\"w-10 h-10 bg-primary/10\">\n                    <AvatarFallback>\n                      <User className=\"w-5 h-5\" />\n                    </AvatarFallback>\n                  </Avatar>\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-sm\">{guest.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">{guest.role}</p>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => removeGuest(guest.id)}\n                    className=\"text-muted-foreground hover-elevate active-elevate-2\"\n                    data-testid={`button-remove-guest-${guest.id}`}\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              ))}\n\n              <div className=\"space-y-2\">\n                <Input\n                  value={guestName}\n                  onChange={(e) => setGuestName(e.target.value)}\n                  placeholder=\"Guest Name\"\n                  data-testid=\"input-guest-name\"\n                />\n                <Input\n                  value={guestRole}\n                  onChange={(e) => setGuestRole(e.target.value)}\n                  placeholder=\"Role, e.g., Team Captain\"\n                  data-testid=\"input-guest-role\"\n                />\n              </div>\n\n              <button\n                type=\"button\"\n                onClick={addGuest}\n                className=\"text-primary font-medium text-sm flex items-center gap-1\"\n                data-testid=\"button-add-guest\"\n              >\n                <span className=\"text-lg\">+</span> Add another participant\n              </button>\n            </div>\n\n            {/* Bottom Buttons */}\n            <div className=\"flex gap-3 pt-4 pb-6\">\n              <Button\n                type=\"button\"\n                variant=\"secondary\"\n                className=\"flex-1 h-11\"\n                data-testid=\"button-preview\"\n              >\n                Preview\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={createEventMutation.isPending}\n                className=\"flex-1 h-11 bg-gradient-primary text-white\"\n                data-testid=\"button-publish\"\n              >\n                {createEventMutation.isPending ? \"Publishing...\" : \"Publish\"}\n              </Button>\n            </div>\n          </form>\n        </Form>\n      </div>\n    </div>\n  );\n}\n","size_bytes":20122},"client/src/pages/Settings.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { ArrowLeft, ChevronRight, Key, Shield, ShieldCheck, HelpCircle, Headphones, AlertCircle, Info, FileText, ShieldAlert, LogOut } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport default function Settings() {\n  const [, setLocation] = useLocation();\n  \n  const settingsSections = [\n    {\n      title: \"ACCOUNT\",\n      items: [\n        {\n          id: \"password\",\n          label: \"Change Password\",\n          icon: Key,\n          onClick: () => console.log(\"Change password\"),\n        },\n        {\n          id: \"privacy\",\n          label: \"Privacy\",\n          icon: Shield,\n          onClick: () => console.log(\"Privacy settings\"),\n        },\n        {\n          id: \"security\",\n          label: \"Security\",\n          icon: ShieldCheck,\n          onClick: () => console.log(\"Security settings\"),\n        },\n      ],\n    },\n    {\n      title: \"HELP & SUPPORT\",\n      items: [\n        {\n          id: \"faq\",\n          label: \"FAQ\",\n          icon: HelpCircle,\n          onClick: () => console.log(\"FAQ\"),\n        },\n        {\n          id: \"contact\",\n          label: \"Contact Us\",\n          icon: Headphones,\n          onClick: () => console.log(\"Contact us\"),\n        },\n        {\n          id: \"report\",\n          label: \"Report a Problem\",\n          icon: AlertCircle,\n          onClick: () => console.log(\"Report problem\"),\n        },\n      ],\n    },\n    {\n      title: \"ABOUT\",\n      items: [\n        {\n          id: \"version\",\n          label: \"Version\",\n          icon: Info,\n          value: \"1.0.0\",\n          onClick: () => {},\n        },\n        {\n          id: \"terms\",\n          label: \"Terms of Service\",\n          icon: FileText,\n          onClick: () => console.log(\"Terms of service\"),\n        },\n        {\n          id: \"privacy-policy\",\n          label: \"Privacy Policy\",\n          icon: ShieldAlert,\n          onClick: () => console.log(\"Privacy policy\"),\n        },\n      ],\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"sticky top-0 bg-background border-b border-border z-10\">\n        <div className=\"flex items-center gap-4 p-4\">\n          <button\n            onClick={() => setLocation(\"/profile\")}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"w-6 h-6 text-foreground\" />\n          </button>\n          <h1 className=\"text-lg font-bold text-foreground\">Settings</h1>\n        </div>\n      </div>\n\n      <div className=\"pb-8\">\n        {settingsSections.map((section, sectionIndex) => (\n          <div key={section.title} className={sectionIndex > 0 ? \"mt-8\" : \"mt-0\"}>\n            <p className=\"text-xs font-semibold text-muted-foreground px-4 py-3 uppercase\">\n              {section.title}\n            </p>\n            <div className=\"bg-background\">\n              {section.items.map((item, itemIndex) => {\n                const IconComponent = item.icon;\n                const isLast = itemIndex === section.items.length - 1;\n\n                return (\n                  <button\n                    key={item.id}\n                    onClick={item.onClick}\n                    className={`w-full flex items-center gap-4 px-4 py-4 hover-elevate active-elevate-2 ${\n                      !isLast ? \"border-b border-border\" : \"\"\n                    }`}\n                    data-testid={`button-${item.id}`}\n                  >\n                    <div className=\"w-10 h-10 rounded-lg bg-muted flex items-center justify-center flex-shrink-0\">\n                      <IconComponent className=\"w-5 h-5 text-muted-foreground\" />\n                    </div>\n                    <div className=\"flex-1 text-left\">\n                      <p className=\"text-sm font-medium text-foreground\">{item.label}</p>\n                    </div>\n                    {item.value ? (\n                      <p className=\"text-sm text-muted-foreground\">{item.value}</p>\n                    ) : (\n                      <ChevronRight className=\"w-5 h-5 text-muted-foreground flex-shrink-0\" />\n                    )}\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        ))}\n\n        <div className=\"mt-8 px-4\">\n          <Button\n            variant=\"outline\"\n            className=\"w-full justify-center gap-2 text-destructive border-destructive hover:bg-destructive/10 h-12\"\n            data-testid=\"button-logout\"\n          >\n            <LogOut className=\"w-5 h-5\" />\n            Logout\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":4560},"client/src/pages/Notifications.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { ArrowLeft, Settings, Calendar, Users, TrendingUp, Megaphone, BarChart3, UserPlus } from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport type { Notification } from \"@shared/schema\";\nimport { api } from \"@/lib/api\";\n\nexport default function Notifications() {\n  const [, setLocation] = useLocation();\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const currentUserId = \"current-user-id\";\n\n  const { data: notifications = [], isLoading } = useQuery<Notification[]>({\n    queryKey: [\"/api/notifications\", currentUserId],\n    queryFn: () => api.getNotifications(currentUserId),\n  });\n\n  // Demo/seed notifications - only shown if no real notifications exist\n  const seedNotifications: Notification[] = notifications.length === 0 ? [\n    {\n      id: \"seed-1\",\n      userId: currentUserId,\n      type: \"event_featured\",\n      title: \"New event near you: Startup Meetup @ IIT Kanpur\",\n      description: \"Join us for networking and learning\",\n      actionUrl: \"/event/demo\",\n      relatedId: null,\n      relatedUserIds: null,\n      isRead: false,\n      createdAt: new Date(Date.now() - 600000), // 10 min ago\n    },\n    {\n      id: \"seed-2\",\n      userId: currentUserId,\n      type: \"group_invite\",\n      title: \"Kanpur Gamers\",\n      description: \"You have been invited to join group\",\n      actionUrl: \"/group/demo\",\n      relatedId: null,\n      relatedUserIds: null,\n      isRead: false,\n      createdAt: new Date(Date.now() - 1500000), // 25 min ago\n    },\n    {\n      id: \"seed-3\",\n      userId: currentUserId,\n      type: \"like\",\n      title: \"@rahul_kanpur\",\n      description: \"and 5 others liked your activity\",\n      actionUrl: \"/activity/demo\",\n      relatedId: null,\n      relatedUserIds: [\"user1\", \"user2\", \"user3\"],\n      isRead: false,\n      createdAt: new Date(Date.now() - 3600000), // 1h ago\n    },\n    {\n      id: \"seed-4\",\n      userId: currentUserId,\n      type: \"comment_poll\",\n      title: \"New comment on your poll\",\n      description: \"Which café is best?\",\n      actionUrl: null,\n      relatedId: null,\n      relatedUserIds: null,\n      isRead: true,\n      createdAt: new Date(Date.now() - 7200000), // 2h ago\n    },\n    {\n      id: \"seed-5\",\n      userId: currentUserId,\n      type: \"news_alert\",\n      title: \"Local News Alert\",\n      description: \"Road closed near Moti Jheel\",\n      actionUrl: null,\n      relatedId: null,\n      relatedUserIds: null,\n      isRead: true,\n      createdAt: new Date(Date.now() - 18000000), // 5h ago\n    },\n  ] : [];\n\n  const allNotifications = [...notifications, ...seedNotifications];\n\n  const filteredNotifications = allNotifications.filter((notif) => {\n    if (activeTab === \"all\") return true;\n    if (activeTab === \"activities\") return notif.type === \"activity\" || notif.type === \"like\";\n    if (activeTab === \"events\") return notif.type === \"event\" || notif.type === \"event_featured\";\n    if (activeTab === \"groups\") return notif.type === \"group\" || notif.type === \"group_invite\";\n    return true;\n  });\n\n  const todayNotifications = filteredNotifications.filter((notif) => {\n    const createdDate = new Date(notif.createdAt);\n    const today = new Date();\n    return createdDate.toDateString() === today.toDateString();\n  });\n\n  const yesterdayNotifications = filteredNotifications.filter((notif) => {\n    const createdDate = new Date(notif.createdAt);\n    const yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    return createdDate.toDateString() === yesterday.toDateString();\n  });\n\n  const tabs = [\n    { id: \"all\", label: \"All\" },\n    { id: \"activities\", label: \"Activities\" },\n    { id: \"events\", label: \"Events\" },\n    { id: \"groups\", label: \"Groups\" },\n  ];\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case \"event\":\n      case \"event_featured\":\n        return <Calendar className=\"w-6 h-6\" />;\n      case \"group\":\n      case \"group_invite\":\n        return <UserPlus className=\"w-6 h-6\" />;\n      case \"activity\":\n        return <TrendingUp className=\"w-6 h-6\" />;\n      case \"news_alert\":\n        return <Megaphone className=\"w-6 h-6\" />;\n      case \"comment_poll\":\n        return <BarChart3 className=\"w-6 h-6\" />;\n      case \"like\":\n        return null;\n      default:\n        return <TrendingUp className=\"w-6 h-6\" />;\n    }\n  };\n\n  const getTimeAgo = (date: Date) => {\n    const now = new Date();\n    const diffMs = now.getTime() - new Date(date).getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n\n    if (diffMins < 1) return \"Just now\";\n    if (diffMins < 60) return `${diffMins} min ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    return `${Math.floor(diffHours / 24)}d ago`;\n  };\n\n  const NotificationCard = ({ notification }: { notification: Notification }) => {\n    // Featured event notification with gradient background\n    if (notification.type === \"event_featured\") {\n      return (\n        <div className=\"px-4 mb-4\">\n          <div\n            className=\"relative rounded-2xl p-5 bg-gradient-primary overflow-hidden\"\n            data-testid={`notification-${notification.id}`}\n          >\n            <div className=\"flex items-start gap-4 mb-3\">\n              <div className=\"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center text-white flex-shrink-0\">\n                <Calendar className=\"w-6 h-6\" />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-base font-semibold text-white leading-snug\">\n                  {notification.title}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <p className=\"text-sm text-white/70\">{getTimeAgo(notification.createdAt)}</p>\n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                className=\"bg-white text-foreground hover:bg-white/90 h-9 px-5 rounded-full\"\n                onClick={() => notification.actionUrl && setLocation(notification.actionUrl)}\n                data-testid={`button-view-event-${notification.id}`}\n              >\n                View Event\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    // Group invite notification\n    if (notification.type === \"group_invite\") {\n      return (\n        <div className=\"flex items-start gap-4 px-4 py-3\" data-testid={`notification-${notification.id}`}>\n          <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white flex-shrink-0\">\n            <UserPlus className=\"w-6 h-6\" />\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm text-foreground leading-snug\">\n              You have been invited to join{\" \"}\n              <span className=\"font-semibold\">'{notification.title}'</span> group\n            </p>\n            <p className=\"text-xs text-muted-foreground mt-1\">{getTimeAgo(notification.createdAt)}</p>\n          </div>\n          <Button\n            className=\"bg-gradient-primary text-white border-none h-9 px-6 flex-shrink-0 rounded-full\"\n            onClick={() => notification.actionUrl && setLocation(notification.actionUrl)}\n            data-testid={`button-join-${notification.id}`}\n          >\n            Join\n          </Button>\n        </div>\n      );\n    }\n\n    // Likes notification with avatars\n    if (notification.type === \"like\") {\n      const userSeeds = notification.relatedUserIds || [\"user1\", \"user2\", \"user3\"];\n      return (\n        <div className=\"flex items-start gap-4 px-4 py-3\" data-testid={`notification-${notification.id}`}>\n          <div className=\"flex -space-x-2 flex-shrink-0\">\n            {userSeeds.slice(0, 3).map((userId, i) => (\n              <Avatar key={i} className=\"w-10 h-10 border-2 border-background\">\n                <AvatarImage src={`https://api.dicebear.com/7.x/avataaars/svg?seed=${userId}`} />\n                <AvatarFallback>{userId.slice(0, 2).toUpperCase()}</AvatarFallback>\n              </Avatar>\n            ))}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm text-foreground leading-snug\">\n              <span className=\"font-semibold\">{notification.title}</span> {notification.description}\n            </p>\n            <p className=\"text-xs text-muted-foreground mt-1\">{getTimeAgo(notification.createdAt)}</p>\n          </div>\n          <button\n            className=\"flex-shrink-0 text-muted-foreground\"\n            onClick={() => notification.actionUrl && setLocation(notification.actionUrl)}\n            data-testid={`button-view-${notification.id}`}\n          >\n            <span className=\"text-xl\">›</span>\n          </button>\n        </div>\n      );\n    }\n\n    // Comment/Poll notification\n    if (notification.type === \"comment_poll\") {\n      return (\n        <div className=\"flex items-start gap-4 px-4 py-3\" data-testid={`notification-${notification.id}`}>\n          <div className=\"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center text-blue-500 flex-shrink-0\">\n            <BarChart3 className=\"w-6 h-6\" />\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm text-foreground leading-snug\">\n              {notification.title}\n            </p>\n            {notification.description && (\n              <p className=\"text-sm text-muted-foreground\">'{notification.description}'</p>\n            )}\n            <p className=\"text-xs text-muted-foreground mt-1\">{getTimeAgo(notification.createdAt)}</p>\n          </div>\n        </div>\n      );\n    }\n\n    // News alert notification\n    if (notification.type === \"news_alert\") {\n      return (\n        <div className=\"flex items-start gap-4 px-4 py-3\" data-testid={`notification-${notification.id}`}>\n          <div className=\"w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center text-red-500 flex-shrink-0\">\n            <Megaphone className=\"w-6 h-6\" />\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm text-foreground leading-snug\">\n              {notification.title}\n            </p>\n            {notification.description && (\n              <p className=\"text-sm text-muted-foreground\">{notification.description}</p>\n            )}\n            <p className=\"text-xs text-muted-foreground mt-1\">{getTimeAgo(notification.createdAt)}</p>\n          </div>\n        </div>\n      );\n    }\n\n    // Default notification\n    return (\n      <div className=\"flex items-start gap-4 px-4 py-3\" data-testid={`notification-${notification.id}`}>\n        <div className=\"w-12 h-12 rounded-xl bg-muted flex items-center justify-center text-foreground flex-shrink-0\">\n          {getNotificationIcon(notification.type)}\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-sm text-foreground leading-snug\">\n            {notification.title}\n          </p>\n          {notification.description && (\n            <p className=\"text-sm text-muted-foreground\">{notification.description}</p>\n          )}\n          <p className=\"text-xs text-muted-foreground mt-1\">{getTimeAgo(notification.createdAt)}</p>\n        </div>\n      </div>\n    );\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <p className=\"text-muted-foreground\">Loading notifications...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"sticky top-0 bg-background border-b border-border z-10\">\n        <div className=\"flex items-center justify-between p-4\">\n          <button onClick={() => setLocation(\"/\")} data-testid=\"button-back\">\n            <ArrowLeft className=\"w-6 h-6 text-foreground\" />\n          </button>\n          <h1 className=\"text-lg font-bold text-foreground\">Notifications</h1>\n          <button onClick={() => setLocation(\"/settings\")} data-testid=\"button-settings\">\n            <Settings className=\"w-6 h-6 text-foreground\" />\n          </button>\n        </div>\n\n        <div className=\"flex gap-2 px-4 pb-4 overflow-x-auto\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${\n                activeTab === tab.id\n                  ? \"bg-gradient-primary text-white\"\n                  : \"bg-muted text-muted-foreground\"\n              }`}\n              data-testid={`tab-${tab.id}`}\n            >\n              {tab.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"pb-20\">\n        {todayNotifications.length > 0 && (\n          <div className=\"mb-6\">\n            <p className=\"text-xs font-bold text-muted-foreground px-4 py-3 uppercase tracking-wide\">\n              NEW TODAY\n            </p>\n            <div className=\"space-y-0\">\n              {todayNotifications.map((notification) => (\n                <NotificationCard key={notification.id} notification={notification} />\n              ))}\n            </div>\n          </div>\n        )}\n\n        {yesterdayNotifications.length > 0 && (\n          <div>\n            <p className=\"text-xs font-bold text-muted-foreground px-4 py-3 uppercase tracking-wide\">\n              YESTERDAY\n            </p>\n            <div className=\"space-y-0\">\n              {yesterdayNotifications.map((notification) => (\n                <NotificationCard key={notification.id} notification={notification} />\n              ))}\n            </div>\n          </div>\n        )}\n\n        {filteredNotifications.length === 0 && (\n          <div className=\"flex flex-col items-center justify-center py-20\">\n            <p className=\"text-muted-foreground\">No notifications yet</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":14144},"client/src/pages/DirectChat.tsx":{"content":"import { useRoute, useLocation } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { ArrowLeft, Smile, Paperclip, Mic, Send } from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { useState } from \"react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { format } from \"date-fns\";\n\ninterface Message {\n  id: string;\n  senderId: string;\n  recipientId: string | null;\n  content: string;\n  imageUrl?: string | null;\n  createdAt: Date;\n}\n\nexport default function DirectChat() {\n  const [, params] = useRoute(\"/chat/:username\");\n  const [, setLocation] = useLocation();\n  const username = params?.username;\n  const [message, setMessage] = useState(\"\");\n  const currentUserId = \"current-user-id\";\n\n  const { data: user } = useQuery<any>({\n    queryKey: [\"/api/users/username\", username],\n    enabled: !!username,\n  });\n\n  const { data: messages = [] } = useQuery<Message[]>({\n    queryKey: [\"/api/messages/direct\", user?.id],\n    enabled: !!user?.id,\n  });\n\n  const sendMutation = useMutation({\n    mutationFn: (content: string) =>\n      apiRequest(\"/api/messages\", \"POST\", {\n        recipientId: user?.id,\n        content,\n        messageType: \"text\",\n      }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/messages/direct\", user?.id] });\n      setMessage(\"\");\n    },\n  });\n\n  const handleSend = () => {\n    if (message.trim()) {\n      sendMutation.mutate(message);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-background\">\n      <div className=\"flex items-center gap-3 p-4 border-b border-border bg-background\">\n        <button\n          onClick={() => setLocation(\"/\")}\n          className=\"flex-shrink-0\"\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft className=\"w-6 h-6 text-foreground\" />\n        </button>\n        <button\n          className=\"flex items-center gap-3 flex-1\"\n          data-testid=\"button-user-profile\"\n        >\n          <Avatar className=\"w-10 h-10\">\n            <AvatarImage src={user?.avatarUrl || \"\"} />\n            <AvatarFallback>{user?.name?.charAt(0) || \"U\"}</AvatarFallback>\n          </Avatar>\n          <p className=\"text-sm font-semibold text-foreground\" data-testid=\"text-username\">\n            @{username}\n          </p>\n        </button>\n        <button className=\"flex-shrink-0\" data-testid=\"button-options\">\n          <span className=\"text-foreground text-xl\">⋮</span>\n        </button>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.map((msg) => {\n          const isCurrentUser = msg.senderId === currentUserId;\n\n          if (msg.imageUrl) {\n            return (\n              <div\n                key={msg.id}\n                className={`flex ${isCurrentUser ? \"justify-end\" : \"justify-start\"}`}\n              >\n                <div className={`max-w-[75%] ${isCurrentUser ? \"items-end\" : \"items-start\"} flex flex-col`}>\n                  {!isCurrentUser && (\n                    <Avatar className=\"w-8 h-8 mb-2\">\n                      <AvatarImage src={user?.avatarUrl || \"\"} />\n                      <AvatarFallback>{user?.name?.charAt(0) || \"U\"}</AvatarFallback>\n                    </Avatar>\n                  )}\n                  <div className=\"rounded-2xl overflow-hidden bg-muted\">\n                    <img src={msg.imageUrl} alt=\"Shared\" className=\"max-w-xs\" />\n                    {msg.content && (\n                      <div className=\"p-4\">\n                        <p className=\"text-sm text-foreground\">{msg.content}</p>\n                      </div>\n                    )}\n                    <div className=\"px-4 pb-2\">\n                      <Button className=\"w-full bg-gradient-primary text-white border-none\">\n                        Join Event\n                      </Button>\n                    </div>\n                  </div>\n                  <p className=\"text-[10px] text-muted-foreground mt-1\">\n                    {format(new Date(msg.createdAt), \"h:mm a\")}\n                  </p>\n                </div>\n              </div>\n            );\n          }\n\n          return (\n            <div\n              key={msg.id}\n              className={`flex gap-2 ${isCurrentUser ? \"flex-row-reverse\" : \"flex-row\"}`}\n            >\n              {!isCurrentUser && (\n                <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                  <AvatarImage src={user?.avatarUrl || \"\"} />\n                  <AvatarFallback>{user?.name?.charAt(0) || \"U\"}</AvatarFallback>\n                </Avatar>\n              )}\n              <div className={`flex flex-col ${isCurrentUser ? \"items-end\" : \"items-start\"} max-w-[75%]`}>\n                <div\n                  className={`rounded-2xl px-4 py-2 ${\n                    isCurrentUser\n                      ? \"bg-gradient-primary text-white\"\n                      : \"bg-muted text-foreground\"\n                  }`}\n                  data-testid={`message-${msg.id}`}\n                >\n                  <p className=\"text-sm\">{msg.content}</p>\n                </div>\n                <p className=\"text-[10px] text-muted-foreground mt-1\">\n                  {format(new Date(msg.createdAt), \"h:mm a\")}\n                </p>\n              </div>\n            </div>\n          );\n        })}\n\n        {messages.length === 0 && (\n          <div className=\"flex flex-col items-center justify-center py-20\">\n            <p className=\"text-muted-foreground text-sm\">No messages yet</p>\n            <p className=\"text-muted-foreground text-xs mt-1\">Say hi to start a conversation!</p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"p-4 border-t border-border bg-background\">\n        <div className=\"flex items-center gap-2\">\n          <button\n            className=\"flex-shrink-0\"\n            data-testid=\"button-emoji\"\n          >\n            <Smile className=\"w-6 h-6 text-muted-foreground\" />\n          </button>\n          <button\n            className=\"flex-shrink-0\"\n            data-testid=\"button-attach-image\"\n          >\n            <Paperclip className=\"w-6 h-6 text-muted-foreground\" />\n          </button>\n          <button\n            className=\"flex-shrink-0\"\n            data-testid=\"button-attach-file\"\n          >\n            <Mic className=\"w-6 h-6 text-muted-foreground\" />\n          </button>\n          <input\n            type=\"text\"\n            placeholder=\"Type a message...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={(e) => e.key === \"Enter\" && handleSend()}\n            className=\"flex-1 px-4 py-2.5 bg-transparent text-sm text-foreground placeholder:text-muted-foreground focus:outline-none\"\n            data-testid=\"input-message\"\n          />\n          <button\n            onClick={handleSend}\n            disabled={!message.trim() || sendMutation.isPending}\n            className=\"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-primary text-white flex items-center justify-center disabled:opacity-50\"\n            data-testid=\"button-send\"\n          >\n            <Send className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7241},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport { users, activities, events, groups, news, eventGuests, eventComments, groupMembers, messages, notifications } from \"@shared/schema\";\n\nasync function seed() {\n  console.log(\"🌱 Seeding database...\");\n\n  // Clear existing data\n  await db.delete(eventGuests);\n  await db.delete(eventComments);\n  await db.delete(groupMembers);\n  await db.delete(messages);\n  await db.delete(notifications);\n  await db.delete(activities);\n  await db.delete(events);\n  await db.delete(groups);\n  await db.delete(news);\n  await db.delete(users);\n\n  console.log(\"✓ Cleared existing data\");\n\n  // Seed users\n  const [user1, user2, user3] = await db.insert(users).values([\n    {\n      username: \"rahul_kanpur\",\n      name: \"Rahul Kanpur\",\n      bio: \"Product Designer | Foodie | Traveler 📍Delhi\\nTrying to capture the beauty of my city, one click at a time.\",\n      location: \"Delhi, India\",\n      interests: [\"Food\", \"Travel\", \"Photography\"],\n      avatarUrl: \"https://api.dicebear.com/7.x/avataaars/svg?seed=Rahul\",\n      followersCount: 1200,\n      followingCount: 300,\n      postsCount: 120,\n    },\n    {\n      username: \"priya_sharma\",\n      name: \"Priya Sharma\",\n      bio: \"Sports enthusiast | IIT Kanpur\",\n      location: \"Kanpur, India\",\n      interests: [\"Sports\", \"Cricket\", \"Fitness\"],\n      avatarUrl: \"https://api.dicebear.com/7.x/avataaars/svg?seed=Priya\",\n      followersCount: 850,\n      followingCount: 420,\n      postsCount: 65,\n    },\n    {\n      username: \"localreporter\",\n      name: \"Local Reporter\",\n      bio: \"Reporting local news from Delhi NCR\",\n      location: \"Delhi, India\",\n      interests: [\"News\", \"Journalism\"],\n      avatarUrl: \"https://api.dicebear.com/7.x/initials/svg?seed=LR\",\n      followersCount: 5200,\n      followingCount: 150,\n      postsCount: 342,\n    }\n  ]).returning();\n\n  console.log(\"✓ Seeded users\");\n\n  // Seed activities\n  await db.insert(activities).values([\n    {\n      userId: user1.id,\n      title: \"Going to watch Jawan at PVR Mall\",\n      description: \"Excited to announce a movie meetup for the new Shah Rukh Khan movie! Let's catch the first day first show together.\",\n      imageUrl: \"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=800\",\n      location: \"PVR Mall, Kanpur\",\n      startDate: new Date(Date.now() + 86400000),\n      endDate: null,\n      maxParticipants: 10,\n      visibility: \"Public\",\n      cost: \"Paid Entry\",\n      category: \"Movies\",\n      likesCount: 23,\n      commentsCount: 5,\n      participantsCount: 6,\n    },\n    {\n      userId: user2.id,\n      title: \"Cricket match at IIT Kanpur ground tomorrow!\",\n      description: \"Need players 🏏\",\n      imageUrl: null,\n      location: \"IIT Kanpur\",\n      startDate: new Date(Date.now() + 86400000),\n      endDate: null,\n      maxParticipants: 22,\n      visibility: \"Public\",\n      cost: \"Free\",\n      category: \"Sports\",\n      likesCount: 15,\n      commentsCount: 8,\n      participantsCount: 12,\n    }\n  ]);\n\n  console.log(\"✓ Seeded activities\");\n\n  // Seed events\n  await db.insert(events).values([\n    {\n      userId: user1.id,\n      title: \"TechSparks 2024\",\n      description: \"India's biggest startup conference\",\n      imageUrl: \"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800\",\n      location: \"Bangalore International Centre\",\n      startDate: new Date(Date.now() + 864000000),\n      endDate: null,\n      maxAttendees: null,\n      visibility: \"Public\",\n      entryType: \"FREE\",\n      price: null,\n      category: [\"TECH\", \"STARTUP\"],\n      attendeesCount: 125,\n    },\n    {\n      userId: user2.id,\n      title: \"Rang Barse - Holi Festival\",\n      description: \"Celebrate Holi with colors and music\",\n      imageUrl: \"https://images.unsplash.com/photo-1583338506904-91cfd5c67a9b?w=800\",\n      location: \"Jawaharlal Nehru Stadium, Delhi\",\n      startDate: new Date(Date.now() + 2592000000),\n      endDate: null,\n      maxAttendees: 1000,\n      visibility: \"Public\",\n      entryType: \"PAID\",\n      price: 500,\n      category: [\"FESTIVAL\"],\n      attendeesCount: 500,\n    }\n  ]);\n\n  console.log(\"✓ Seeded events\");\n\n  // Seed groups\n  await db.insert(groups).values([\n    {\n      name: \"Kanpur Startups\",\n      description: \"A community for startup enthusiasts in Kanpur\",\n      imageUrl: \"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400\",\n      groupType: \"Public\",\n      category: \"Startups\",\n      rules: \"Be respectful, No spam, Stay relevant\",\n      membersCount: 1200,\n    },\n    {\n      name: \"Delhi Foodies\",\n      description: \"For food lovers sharing restaurant recommendations\",\n      imageUrl: \"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400\",\n      groupType: \"Private\",\n      category: \"Foodies\",\n      rules: \"Share food pics, Recommend places, No self-promotion\",\n      membersCount: 875,\n    }\n  ]);\n\n  console.log(\"✓ Seeded groups\");\n\n  // Seed news\n  await db.insert(news).values([\n    {\n      userId: user3.id,\n      headline: \"Road closed near IIT Gate\",\n      description: \"A brief summary of the news item about a temporary road closure affecting local traffic.\",\n      imageUrl: \"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800\",\n      location: \"Hauz Khas, Delhi\",\n      category: \"Local\",\n      trueVotes: 210,\n      fakeVotes: 105,\n      likesCount: 120,\n      commentsCount: 88,\n    },\n    {\n      userId: user3.id,\n      headline: \"New café opening in Swaroop Nagar\",\n      description: \"Exciting news for coffee lovers! A brand new cafe is opening its doors this weekend.\",\n      imageUrl: \"https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800\",\n      location: \"Swaroop Nagar, Kanpur\",\n      category: \"Local\",\n      trueVotes: 560,\n      fakeVotes: 12,\n      likesCount: 973,\n      commentsCount: 102,\n    }\n  ]);\n\n  console.log(\"✓ Seeded news\");\n\n  console.log(\"✅ Database seeding complete!\");\n  process.exit(0);\n}\n\nseed().catch((error) => {\n  console.error(\"❌ Error seeding database:\", error);\n  process.exit(1);\n});\n","size_bytes":6021},"client/src/pages/GroupChat.tsx":{"content":"import { useRoute, useLocation } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { ArrowLeft, Users, Send, Plus } from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { useState } from \"react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { format } from \"date-fns\";\n\ninterface Message {\n  id: string;\n  senderId: string;\n  groupId: string;\n  content: string;\n  createdAt: Date;\n  senderName?: string;\n  senderAvatar?: string;\n}\n\nexport default function GroupChat() {\n  const [, params] = useRoute(\"/group/:id/chat\");\n  const [, setLocation] = useLocation();\n  const groupId = params?.id;\n  const [message, setMessage] = useState(\"\");\n  const currentUserId = \"current-user-id\";\n\n  const { data: group } = useQuery<any>({\n    queryKey: [\"/api/groups\", groupId],\n    enabled: !!groupId,\n  });\n\n  const { data: messages = [] } = useQuery<Message[]>({\n    queryKey: [\"/api/messages\", groupId],\n    enabled: !!groupId,\n  });\n\n  const { data: members = [] } = useQuery<any[]>({\n    queryKey: [\"/api/groups\", groupId, \"members\"],\n    enabled: !!groupId,\n  });\n\n  const sendMutation = useMutation({\n    mutationFn: (content: string) =>\n      apiRequest(\"/api/messages\", \"POST\", {\n        groupId,\n        content,\n        messageType: \"text\",\n      }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/messages\", groupId] });\n      setMessage(\"\");\n    },\n  });\n\n  const handleSend = () => {\n    if (message.trim()) {\n      sendMutation.mutate(message);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-background\">\n      <div className=\"flex items-center gap-3 p-4 border-b border-border bg-background\">\n        <button\n          onClick={() => setLocation(\"/my-groups\")}\n          className=\"flex-shrink-0\"\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft className=\"w-6 h-6 text-foreground\" />\n        </button>\n        <button\n          className=\"flex items-center gap-3 flex-1\"\n          data-testid=\"button-group-info\"\n        >\n          <Avatar className=\"w-10 h-10\">\n            <AvatarImage src={group?.imageUrl || \"\"} />\n            <AvatarFallback className=\"bg-primary/20 text-primary\">\n              {group?.name?.charAt(0) || \"G\"}\n            </AvatarFallback>\n          </Avatar>\n          <div className=\"text-left\">\n            <p className=\"text-sm font-semibold text-foreground\" data-testid=\"text-group-name\">\n              {group?.name || \"Group\"}\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              {members.length} members\n            </p>\n          </div>\n        </button>\n        <button className=\"flex-shrink-0\" data-testid=\"button-options\">\n          <span className=\"text-foreground text-xl\">⋮</span>\n        </button>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.map((msg) => {\n          const isCurrentUser = msg.senderId === currentUserId;\n          const showAvatar = !isCurrentUser;\n\n          return (\n            <div\n              key={msg.id}\n              className={`flex gap-2 ${isCurrentUser ? \"flex-row-reverse\" : \"flex-row\"}`}\n            >\n              {showAvatar && (\n                <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                  <AvatarImage src={msg.senderAvatar || `https://api.dicebear.com/7.x/avataaars/svg?seed=${msg.senderId}`} />\n                  <AvatarFallback>{msg.senderName?.charAt(0) || \"U\"}</AvatarFallback>\n                </Avatar>\n              )}\n              <div className={`flex flex-col ${isCurrentUser ? \"items-end\" : \"items-start\"} max-w-[75%]`}>\n                {!isCurrentUser && (\n                  <p className=\"text-xs text-muted-foreground mb-1 px-1\">\n                    {msg.senderName || \"User\"}\n                  </p>\n                )}\n                <div\n                  className={`rounded-2xl px-4 py-2 ${\n                    isCurrentUser\n                      ? \"bg-gradient-primary text-white\"\n                      : \"bg-muted text-foreground\"\n                  }`}\n                  data-testid={`message-${msg.id}`}\n                >\n                  <p className=\"text-sm\">{msg.content}</p>\n                </div>\n                <p className=\"text-[10px] text-muted-foreground mt-1 px-1\">\n                  {format(new Date(msg.createdAt), \"h:mm a\")}\n                </p>\n              </div>\n              {isCurrentUser && (\n                <Avatar className=\"w-8 h-8 flex-shrink-0 opacity-0\">\n                  <AvatarFallback>ME</AvatarFallback>\n                </Avatar>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      <div className=\"p-4 border-t border-border bg-background\">\n        <div className=\"flex items-center gap-2\">\n          <button\n            className=\"flex-shrink-0 w-10 h-10 rounded-full bg-muted flex items-center justify-center\"\n            data-testid=\"button-attach\"\n          >\n            <Plus className=\"w-5 h-5 text-muted-foreground\" />\n          </button>\n          <input\n            type=\"text\"\n            placeholder=\"Type a message...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={(e) => e.key === \"Enter\" && handleSend()}\n            className=\"flex-1 px-4 py-2.5 bg-muted rounded-full text-sm text-foreground placeholder:text-muted-foreground focus:outline-none\"\n            data-testid=\"input-message\"\n          />\n          <button\n            onClick={handleSend}\n            disabled={!message.trim() || sendMutation.isPending}\n            className=\"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-primary text-white flex items-center justify-center disabled:opacity-50\"\n            data-testid=\"button-send\"\n          >\n            <Send className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":5947},"client/src/pages/ActivityDetails.tsx":{"content":"import { useRoute, useLocation } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { ArrowLeft, MapPin, Calendar, Users, DollarSign, Share, BadgeCheck } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useState } from \"react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { format } from \"date-fns\";\n\ninterface Attendee {\n  id: string;\n  activityId: string;\n  userId: string;\n  userName?: string;\n  userAvatar?: string;\n}\n\ninterface Question {\n  id: string;\n  activityId: string;\n  userId: string;\n  content: string;\n  createdAt: Date;\n  userName?: string;\n  userAvatar?: string;\n  reply?: string;\n}\n\nexport default function ActivityDetails() {\n  const [, params] = useRoute(\"/activity/:id\");\n  const [, setLocation] = useLocation();\n  const activityId = params?.id;\n  const [question, setQuestion] = useState(\"\");\n  const currentUserId = \"current-user-id\";\n\n  const { data: activity, isLoading } = useQuery<any>({\n    queryKey: [\"/api/activities\", activityId],\n    enabled: !!activityId,\n  });\n\n  const { data: attendees = [] } = useQuery<Attendee[]>({\n    queryKey: [\"/api/activities\", activityId, \"attendees\"],\n    enabled: !!activityId,\n  });\n\n  const joinMutation = useMutation({\n    mutationFn: () => apiRequest(`/api/activities/${activityId}/join`, \"POST\", {}),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/activities\", activityId] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/activities\", activityId, \"attendees\"] });\n    },\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-background\">\n        <p className=\"text-muted-foreground\">Loading...</p>\n      </div>\n    );\n  }\n\n  if (!activity) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-background\">\n        <p className=\"text-muted-foreground\">Activity not found</p>\n      </div>\n    );\n  }\n\n  const totalAttendees = attendees.length;\n  const displayedAttendees = attendees.slice(0, 3);\n  const remainingAttendees = Math.max(0, totalAttendees - 3);\n  const maxParticipants = activity.maxParticipants || 0;\n  const spotsLeft = maxParticipants > 0 ? Math.max(0, maxParticipants - totalAttendees) : null;\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <div className=\"relative\">\n        {activity.imageUrl && (\n          <img\n            src={activity.imageUrl}\n            alt={activity.title}\n            className=\"w-full h-64 object-cover\"\n          />\n        )}\n        <button\n          onClick={() => setLocation(\"/\")}\n          className=\"absolute top-4 left-4 w-10 h-10 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center text-white\"\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft className=\"w-5 h-5\" />\n        </button>\n      </div>\n\n      <div className=\"p-4\">\n        <div className=\"mb-3\">\n          <h1 className=\"text-2xl font-bold text-foreground\" data-testid=\"text-activity-title\">\n            {activity.title}\n          </h1>\n          <p className=\"text-sm text-muted-foreground mt-1\">\n            Posted {activity.createdAt ? format(new Date(activity.createdAt), \"MMMM dd, yyyy\") : \"Recently\"}\n          </p>\n        </div>\n\n        <div className=\"mb-6\">\n          <p className=\"text-sm text-foreground leading-relaxed\" data-testid=\"text-activity-description\">\n            {activity.description || \"No description provided\"}\n          </p>\n        </div>\n\n        <div className=\"space-y-3 mb-6\">\n          <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n            <Calendar className=\"w-5 h-5 text-primary flex-shrink-0\" />\n            <div>\n              <p className=\"text-xs text-muted-foreground\">Date & Time</p>\n              <p className=\"text-sm font-medium text-foreground\" data-testid=\"text-activity-date\">\n                {activity.startDate ? format(new Date(activity.startDate), \"MMMM dd, yyyy, h:mm a\") : \"Date TBD\"}\n                {activity.endDate && ` - ${format(new Date(activity.endDate), \"h:mm a\")}`}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n            <MapPin className=\"w-5 h-5 text-primary flex-shrink-0\" />\n            <div>\n              <p className=\"text-xs text-muted-foreground\">Location</p>\n              <p className=\"text-sm font-medium text-foreground\" data-testid=\"text-activity-location\">\n                {activity.location || \"Location TBD\"}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n            <DollarSign className=\"w-5 h-5 text-primary flex-shrink-0\" />\n            <div>\n              <p className=\"text-xs text-muted-foreground\">Entry</p>\n              <p className=\"text-sm font-medium text-foreground\" data-testid=\"text-activity-entry\">\n                {activity.cost === \"FREE\" ? \"Free\" : `Paid Entry (Approx. ₹${activity.cost || \"350\"} per ticket)`}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-lg font-semibold text-foreground\">Host</h2>\n          </div>\n          <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n            <Avatar className=\"w-12 h-12\">\n              <AvatarImage src={activity.hostAvatar || `https://api.dicebear.com/7.x/avataaars/svg?seed=${activity.userId}`} />\n              <AvatarFallback>{activity.hostName?.charAt(0) || \"H\"}</AvatarFallback>\n            </Avatar>\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-foreground\" data-testid=\"text-host-name\">\n                {activity.hostName || \"@rahul_kanpur\"}\n              </p>\n            </div>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"border-primary text-primary hover:bg-primary/10\"\n              data-testid=\"button-follow\"\n            >\n              Follow\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-lg font-semibold text-foreground\">\n              Attendees ({totalAttendees}/{maxParticipants || \"unlimited\"})\n            </h2>\n            {spotsLeft !== null && spotsLeft > 0 && (\n              <p className=\"text-xs text-muted-foreground\">\n                {spotsLeft} spots left\n              </p>\n            )}\n          </div>\n          <p className=\"text-sm text-muted-foreground mb-3\">\n            Guests are allowed\n          </p>\n          {totalAttendees > 0 ? (\n            <div className=\"flex items-center gap-2\">\n              {displayedAttendees.map((attendee) => (\n                <Avatar key={attendee.id} className=\"w-10 h-10\">\n                  <AvatarImage src={attendee.userAvatar || `https://api.dicebear.com/7.x/avataaars/svg?seed=${attendee.id}`} />\n                  <AvatarFallback>{attendee.id.slice(0, 2).toUpperCase()}</AvatarFallback>\n                </Avatar>\n              ))}\n              {remainingAttendees > 0 && (\n                <div className=\"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center\">\n                  <span className=\"text-xs font-semibold text-primary\">+{remainingAttendees}</span>\n                </div>\n              )}\n            </div>\n          ) : (\n            <p className=\"text-sm text-muted-foreground\">No attendees yet. Be the first to join!</p>\n          )}\n        </div>\n\n        <div className=\"mb-20\">\n          <h2 className=\"text-lg font-semibold text-foreground mb-3\">\n            Questions & Doubts\n          </h2>\n          \n          <div className=\"space-y-4 mb-4\">\n            <div className=\"space-y-3\">\n              <div className=\"flex gap-3\">\n                <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                  <AvatarImage src=\"https://api.dicebear.com/7.x/avataaars/svg?seed=priya\" />\n                  <AvatarFallback>PS</AvatarFallback>\n                </Avatar>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <p className=\"text-sm font-medium text-foreground\">@priya_sharma</p>\n                    <span className=\"text-xs text-muted-foreground\">1h ago</span>\n                  </div>\n                  <p className=\"text-sm text-foreground mb-2\">\n                    Hey, I'm really excited! How are we handling the tickets? Should we book individually?\n                  </p>\n                  <div className=\"pl-4 border-l-2 border-primary/20 ml-2\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <p className=\"text-sm font-medium text-primary\">@rahul_kanpur</p>\n                      <Badge variant=\"secondary\" className=\"text-[10px] px-1.5 py-0 h-4 bg-primary/10 text-primary border-primary/20\">\n                        Host\n                      </Badge>\n                      <span className=\"text-xs text-muted-foreground\">55m ago</span>\n                    </div>\n                    <p className=\"text-sm text-foreground\">\n                      Great question, @priya_sharma! I was thinking we could book for everyone to make sure we get seats together. Let me know if that works for you all!\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-2\">\n            <Avatar className=\"w-8 h-8\">\n              <AvatarImage src=\"https://api.dicebear.com/7.x/avataaars/svg?seed=current\" />\n              <AvatarFallback>ME</AvatarFallback>\n            </Avatar>\n            <div className=\"flex-1 flex gap-2\">\n              <Textarea\n                placeholder=\"Ask a question...\"\n                value={question}\n                onChange={(e) => setQuestion(e.target.value)}\n                className=\"resize-none min-h-[40px] h-10\"\n                data-testid=\"input-question\"\n              />\n              <button\n                onClick={() => setQuestion(\"\")}\n                disabled={!question}\n                className=\"w-16 h-10 rounded-lg bg-gradient-primary text-white text-sm font-medium flex items-center justify-center disabled:opacity-50\"\n                data-testid=\"button-post-question\"\n              >\n                Post\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"fixed bottom-0 left-0 right-0 bg-background border-t border-border p-4 flex gap-3\">\n        <Button\n          variant=\"outline\"\n          className=\"flex-shrink-0\"\n          data-testid=\"button-share\"\n        >\n          <Share className=\"w-4 h-4\" />\n        </Button>\n        <Button\n          className=\"flex-1 bg-gradient-primary text-white border-none\"\n          onClick={() => joinMutation.mutate()}\n          disabled={joinMutation.isPending}\n          data-testid=\"button-send-request\"\n        >\n          {joinMutation.isPending ? \"Sending...\" : \"Send Participation Request\"}\n        </Button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":11455},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/pages/EventDetails.tsx":{"content":"import { useRoute, useLocation } from \"wouter\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { ArrowLeft, MapPin, Calendar, Users, Share, BadgeCheck } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useState } from \"react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { format } from \"date-fns\";\n\ninterface EventGuest {\n  id: string;\n  eventId: string;\n  userId: string;\n  status: string;\n  userName?: string;\n  userAvatar?: string;\n}\n\ninterface EventComment {\n  id: string;\n  eventId: string;\n  userId: string;\n  content: string;\n  createdAt: Date;\n  userName?: string;\n  userAvatar?: string;\n}\n\nexport default function EventDetails() {\n  const [, params] = useRoute(\"/event/:id\");\n  const [, setLocation] = useLocation();\n  const eventId = params?.id;\n  const [comment, setComment] = useState(\"\");\n\n  const { data: event, isLoading } = useQuery<any>({\n    queryKey: [\"/api/events\", eventId],\n    enabled: !!eventId,\n  });\n\n  const { data: guests = [] } = useQuery<EventGuest[]>({\n    queryKey: [\"/api/events\", eventId, \"guests\"],\n    enabled: !!eventId,\n  });\n\n  const { data: comments = [] } = useQuery<EventComment[]>({\n    queryKey: [\"/api/events\", eventId, \"comments\"],\n    enabled: !!eventId,\n  });\n\n  const joinMutation = useMutation({\n    mutationFn: () => apiRequest(`/api/events/${eventId}/join`, \"POST\", {}),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\", eventId] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\", eventId, \"guests\"] });\n    },\n  });\n\n  const commentMutation = useMutation({\n    mutationFn: (content: string) =>\n      apiRequest(`/api/events/${eventId}/comments`, \"POST\", { content }),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/events\", eventId, \"comments\"] });\n      setComment(\"\");\n    },\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-background\">\n        <p className=\"text-muted-foreground\">Loading...</p>\n      </div>\n    );\n  }\n\n  if (!event) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-background\">\n        <p className=\"text-muted-foreground\">Event not found</p>\n      </div>\n    );\n  }\n\n  const totalGuests = guests.length;\n  const displayedGuests = guests.slice(0, 3);\n  const remainingGuests = Math.max(0, totalGuests - 3);\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <div className=\"relative\">\n        {event.imageUrl && (\n          <img\n            src={event.imageUrl}\n            alt={event.title}\n            className=\"w-full h-64 object-cover\"\n          />\n        )}\n        <button\n          onClick={() => setLocation(\"/events\")}\n          className=\"absolute top-4 left-4 w-10 h-10 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center text-white\"\n          data-testid=\"button-back\"\n        >\n          <ArrowLeft className=\"w-5 h-5\" />\n        </button>\n        <button\n          className=\"absolute top-4 right-4 w-10 h-10 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center text-white\"\n          data-testid=\"button-options\"\n        >\n          •••\n        </button>\n      </div>\n\n      <div className=\"p-4\">\n        <h1 className=\"text-2xl font-bold text-foreground mb-3\" data-testid=\"text-event-title\">\n          {event.title}\n        </h1>\n\n        <div className=\"flex gap-2 mb-4\">\n          {event.category?.map((cat: string) => (\n            <Badge key={cat} variant=\"secondary\" className=\"bg-primary/10 text-primary border-primary/20\" data-testid={`badge-category-${cat.toLowerCase()}`}>\n              {cat}\n            </Badge>\n          ))}\n          {event.entryType === \"FREE\" && (\n            <Badge variant=\"secondary\" className=\"bg-green-500/10 text-green-500 border-green-500/20\" data-testid=\"badge-free\">\n              FREE\n            </Badge>\n          )}\n        </div>\n\n        <div className=\"space-y-3 mb-6\">\n          <div className=\"flex items-start gap-3\">\n            <Calendar className=\"w-5 h-5 text-primary mt-0.5\" />\n            <div>\n              <p className=\"text-sm font-medium text-foreground\" data-testid=\"text-event-date\">\n                {event.startDate ? format(new Date(event.startDate), \"EEEE, dd MMMM yyyy\") : \"Date TBD\"}\n              </p>\n              <p className=\"text-xs text-muted-foreground\">\n                {event.startDate ? format(new Date(event.startDate), \"h:mm a\") : \"\"}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-start gap-3\">\n            <MapPin className=\"w-5 h-5 text-primary mt-0.5\" />\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-foreground\" data-testid=\"text-event-location\">\n                {event.location}\n              </p>\n              <button className=\"text-xs text-primary\" data-testid=\"button-view-map\">\n                View Map\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <h2 className=\"text-lg font-semibold text-foreground mb-2\">About this event</h2>\n          <p className=\"text-sm text-muted-foreground leading-relaxed\" data-testid=\"text-event-description\">\n            {event.description || \"No description provided\"}\n          </p>\n        </div>\n\n        <div className=\"mb-6\">\n          <h2 className=\"text-lg font-semibold text-foreground mb-3\">Guest Details</h2>\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n              <Avatar className=\"w-12 h-12\">\n                <AvatarImage src=\"https://api.dicebear.com/7.x/avataaars/svg?seed=Kunal\" />\n                <AvatarFallback>KS</AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-foreground\">Kunal Shah</p>\n                <p className=\"text-xs text-muted-foreground\">Keynote speaker on \"The Future of Fintech\"</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n              <Avatar className=\"w-12 h-12\">\n                <AvatarImage src=\"https://api.dicebear.com/7.x/avataaars/svg?seed=Shradha\" />\n                <AvatarFallback>SS</AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-foreground\">Shradha Sharma</p>\n                <p className=\"text-xs text-muted-foreground\">Hosting a panel discussion on \"Building in India\"</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n              <Avatar className=\"w-12 h-12 bg-primary/10\">\n                <div className=\"w-full h-full flex items-center justify-center text-primary font-semibold\">\n                  R\n                </div>\n              </Avatar>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-foreground\">Ritvi</p>\n                <p className=\"text-xs text-muted-foreground\">Musician/Artist</p>\n                <p className=\"text-xs text-muted-foreground\">Closing the event with a special live music experience</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-lg font-semibold text-foreground\">Host</h2>\n          </div>\n          <div className=\"flex items-center gap-3 p-3 bg-card rounded-lg\">\n            <Avatar className=\"w-12 h-12\">\n              <AvatarImage src=\"https://api.dicebear.com/7.x/initials/svg?seed=TI\" />\n              <AvatarFallback>TI</AvatarFallback>\n            </Avatar>\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-1\">\n                <p className=\"text-sm font-medium text-foreground\">Techies India</p>\n                <BadgeCheck className=\"w-4 h-4 text-primary\" />\n              </div>\n              <p className=\"text-xs text-muted-foreground\">Official tech community for developers</p>\n            </div>\n            <button className=\"text-xs text-primary font-medium\" data-testid=\"button-view-profile\">\n              View Profile\n            </button>\n          </div>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-lg font-semibold text-foreground\">\n              Guests ({totalGuests} attending)\n            </h2>\n            {totalGuests > 0 && (\n              <button className=\"text-xs text-primary font-medium\" data-testid=\"button-see-all-guests\">\n                See all\n              </button>\n            )}\n          </div>\n          {totalGuests > 0 ? (\n            <div className=\"flex items-center gap-2\">\n              {displayedGuests.map((guest) => (\n                <Avatar key={guest.id} className=\"w-10 h-10\">\n                  <AvatarImage src={guest.userAvatar || `https://api.dicebear.com/7.x/avataaars/svg?seed=${guest.id}`} />\n                  <AvatarFallback>{guest.id.slice(0, 2).toUpperCase()}</AvatarFallback>\n                </Avatar>\n              ))}\n              {remainingGuests > 0 && (\n                <div className=\"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center\">\n                  <span className=\"text-xs font-semibold text-primary\">+{remainingGuests}</span>\n                </div>\n              )}\n            </div>\n          ) : (\n            <p className=\"text-sm text-muted-foreground\">No guests yet</p>\n          )}\n        </div>\n\n        <div className=\"mb-20\">\n          <h2 className=\"text-lg font-semibold text-foreground mb-3\">\n            Comments ({comments.length})\n          </h2>\n          <div className=\"space-y-4 mb-4\">\n            {comments.map((c) => (\n              <div key={c.id} className=\"flex gap-3\">\n                <Avatar className=\"w-8 h-8\">\n                  <AvatarImage src={c.userAvatar || `https://api.dicebear.com/7.x/avataaars/svg?seed=${c.id}`} />\n                  <AvatarFallback>{c.id.slice(0, 2).toUpperCase()}</AvatarFallback>\n                </Avatar>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <p className=\"text-sm font-medium text-foreground\">{c.userName || \"Anonymous\"}</p>\n                    <span className=\"text-xs text-muted-foreground\">1d ago</span>\n                  </div>\n                  <p className=\"text-sm text-foreground\">{c.content}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"flex gap-2\">\n            <Avatar className=\"w-8 h-8\">\n              <AvatarImage src=\"https://api.dicebear.com/7.x/avataaars/svg?seed=current\" />\n              <AvatarFallback>ME</AvatarFallback>\n            </Avatar>\n            <div className=\"flex-1 flex gap-2\">\n              <Textarea\n                placeholder=\"Add comment...\"\n                value={comment}\n                onChange={(e) => setComment(e.target.value)}\n                className=\"resize-none min-h-[40px] h-10\"\n                data-testid=\"input-comment\"\n              />\n              <button\n                onClick={() => comment && commentMutation.mutate(comment)}\n                disabled={!comment || commentMutation.isPending}\n                className=\"w-10 h-10 rounded-full bg-gradient-primary text-white flex items-center justify-center disabled:opacity-50\"\n                data-testid=\"button-send-comment\"\n              >\n                →\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"fixed bottom-0 left-0 right-0 bg-background border-t border-border p-4 flex gap-3\">\n        <Button\n          variant=\"outline\"\n          className=\"flex-shrink-0\"\n          data-testid=\"button-share\"\n        >\n          <Share className=\"w-4 h-4\" />\n        </Button>\n        <Button\n          className=\"flex-1 bg-gradient-primary text-white border-none\"\n          onClick={() => joinMutation.mutate()}\n          disabled={joinMutation.isPending}\n          data-testid=\"button-join-event\"\n        >\n          {joinMutation.isPending ? \"Joining...\" : \"Join Event\"}\n        </Button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":12638},"client/src/pages/CreateGroup.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { ArrowLeft, Camera, Search } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport type { User } from \"@shared/schema\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\n\nconst createGroupFormSchema = z.object({\n  name: z.string().min(1, \"Group name is required\"),\n  description: z.string().optional(),\n  groupType: z.enum([\"Public\", \"Private\", \"Invite-only\"]),\n  rules: z.string().optional(),\n  imageUrl: z.string().optional(),\n});\n\ntype CreateGroupFormValues = z.infer<typeof createGroupFormSchema>;\n\nexport default function CreateGroup() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedMembers, setSelectedMembers] = useState<Set<string>>(new Set());\n  const currentUserId = \"current-user-id\";\n\n  const form = useForm<CreateGroupFormValues>({\n    resolver: zodResolver(createGroupFormSchema),\n    defaultValues: {\n      name: \"\",\n      description: \"\",\n      groupType: \"Public\",\n      rules: \"\",\n      imageUrl: \"\",\n    },\n  });\n\n  const { data: allUsers = [] } = useQuery<User[]>({\n    queryKey: [\"/api/users\"],\n  });\n\n  const filteredUsers = allUsers.filter(\n    (user) =>\n      user.id !== currentUserId &&\n      (searchQuery === \"\" ||\n        user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        user.username.toLowerCase().includes(searchQuery.toLowerCase()))\n  );\n\n  const createGroupMutation = useMutation({\n    mutationFn: async (data: CreateGroupFormValues) => {\n      const groupData: any = {\n        userId: currentUserId,\n        name: data.name.trim(),\n        groupType: data.groupType,\n        membersCount: 1,\n      };\n\n      if (data.description?.trim()) {\n        groupData.description = data.description.trim();\n      }\n      if (data.rules?.trim()) {\n        groupData.rules = data.rules.trim();\n      }\n      if (data.imageUrl) {\n        groupData.imageUrl = data.imageUrl;\n      }\n\n      return apiRequest(\"POST\", \"/api/groups\", groupData);\n    },\n    onSuccess: async (newGroup: any) => {\n      // Add creator as first member\n      await apiRequest(\"POST\", `/api/groups/${newGroup.id}/join`, {\n        userId: currentUserId,\n      });\n\n      // Send invites to selected members\n      for (const userId of Array.from(selectedMembers)) {\n        try {\n          await apiRequest(\"POST\", `/api/groups/${newGroup.id}/join`, {\n            userId,\n          });\n        } catch (error) {\n          console.error(\"Failed to add member:\", error);\n        }\n      }\n\n      queryClient.invalidateQueries({ queryKey: [\"/api/groups\"] });\n      toast({\n        title: \"Success!\",\n        description: \"Group created successfully\",\n      });\n      setLocation(\"/groups\");\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to create group. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (data: CreateGroupFormValues) => {\n    createGroupMutation.mutate(data);\n  };\n\n  const toggleMemberSelection = (userId: string) => {\n    const newSelection = new Set(selectedMembers);\n    if (newSelection.has(userId)) {\n      newSelection.delete(userId);\n    } else {\n      newSelection.add(userId);\n    }\n    setSelectedMembers(newSelection);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background pb-6\">\n      <div className=\"sticky top-0 bg-background border-b border-border z-10\">\n        <div className=\"max-w-md mx-auto flex items-center gap-3 p-4\">\n          <button\n            onClick={() => setLocation(\"/groups\")}\n            data-testid=\"button-back\"\n          >\n            <ArrowLeft className=\"w-6 h-6 text-foreground\" />\n          </button>\n          <h1 className=\"text-xl font-semibold text-foreground\">\n            Create Your Group\n          </h1>\n        </div>\n      </div>\n\n      <div className=\"max-w-md mx-auto px-4 pt-6\">\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-6\">\n            {/* Group Photo Upload */}\n            <div className=\"flex flex-col items-center\">\n              <div className=\"relative\">\n                <div className=\"w-28 h-28 rounded-full border-2 border-dashed border-border bg-muted flex items-center justify-center\">\n                  {form.watch(\"imageUrl\") ? (\n                    <img\n                      src={form.watch(\"imageUrl\")}\n                      alt=\"Group\"\n                      className=\"w-full h-full rounded-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"text-muted-foreground\">\n                      <Camera className=\"w-8 h-8\" />\n                    </div>\n                  )}\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"absolute bottom-0 right-0 w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center shadow-lg\"\n                  data-testid=\"button-upload-photo\"\n                >\n                  <Camera className=\"w-5 h-5 text-white\" />\n                </button>\n              </div>\n              <p className=\"text-sm text-muted-foreground mt-3\">\n                Add Group Photo\n              </p>\n            </div>\n\n            {/* Group Name */}\n            <FormField\n              control={form.control}\n              name=\"name\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-foreground font-medium\">\n                    Group Name\n                  </FormLabel>\n                  <FormControl>\n                    <Input\n                      placeholder=\"e.g., Mumbai Street Foodies\"\n                      {...field}\n                      data-testid=\"input-group-name\"\n                      className=\"bg-muted border-border\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Description */}\n            <FormField\n              control={form.control}\n              name=\"description\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-foreground font-medium\">\n                    Description\n                  </FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"e.g., A group for sharing the best local eats!\"\n                      {...field}\n                      data-testid=\"input-description\"\n                      className=\"bg-muted border-border min-h-24 resize-none\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Group Type */}\n            <FormField\n              control={form.control}\n              name=\"groupType\"\n              render={({ field }) => (\n                <FormItem className=\"space-y-3\">\n                  <FormLabel className=\"text-foreground font-medium\">\n                    Group Type\n                  </FormLabel>\n                  <FormControl>\n                    <RadioGroup\n                      onValueChange={field.onChange}\n                      defaultValue={field.value}\n                      className=\"space-y-3\"\n                    >\n                      <div\n                        className={`flex items-start gap-3 p-4 rounded-xl border-2 transition-colors ${\n                          field.value === \"Public\"\n                            ? \"border-primary bg-primary/5\"\n                            : \"border-border bg-card\"\n                        }`}\n                      >\n                        <RadioGroupItem\n                          value=\"Public\"\n                          id=\"public\"\n                          className=\"mt-0.5\"\n                          data-testid=\"radio-public\"\n                        />\n                        <div className=\"flex-1\">\n                          <Label\n                            htmlFor=\"public\"\n                            className=\"text-base font-medium text-foreground cursor-pointer\"\n                          >\n                            Public\n                          </Label>\n                          <p className=\"text-sm text-muted-foreground mt-0.5\">\n                            Anyone can see and join\n                          </p>\n                        </div>\n                      </div>\n\n                      <div\n                        className={`flex items-start gap-3 p-4 rounded-xl border-2 transition-colors ${\n                          field.value === \"Private\"\n                            ? \"border-primary bg-primary/5\"\n                            : \"border-border bg-card\"\n                        }`}\n                      >\n                        <RadioGroupItem\n                          value=\"Private\"\n                          id=\"private\"\n                          className=\"mt-0.5\"\n                          data-testid=\"radio-private\"\n                        />\n                        <div className=\"flex-1\">\n                          <Label\n                            htmlFor=\"private\"\n                            className=\"text-base font-medium text-foreground cursor-pointer\"\n                          >\n                            Private\n                          </Label>\n                          <p className=\"text-sm text-muted-foreground mt-0.5\">\n                            Members must be approved\n                          </p>\n                        </div>\n                      </div>\n\n                      <div\n                        className={`flex items-start gap-3 p-4 rounded-xl border-2 transition-colors ${\n                          field.value === \"Invite-only\"\n                            ? \"border-primary bg-primary/5\"\n                            : \"border-border bg-card\"\n                        }`}\n                      >\n                        <RadioGroupItem\n                          value=\"Invite-only\"\n                          id=\"invite-only\"\n                          className=\"mt-0.5\"\n                          data-testid=\"radio-invite-only\"\n                        />\n                        <div className=\"flex-1\">\n                          <Label\n                            htmlFor=\"invite-only\"\n                            className=\"text-base font-medium text-foreground cursor-pointer\"\n                          >\n                            Invite-only\n                          </Label>\n                          <p className=\"text-sm text-muted-foreground mt-0.5\">\n                            Only invited users can join\n                          </p>\n                        </div>\n                      </div>\n                    </RadioGroup>\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Group Rules */}\n            <FormField\n              control={form.control}\n              name=\"rules\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel className=\"text-foreground font-medium\">\n                    Group Rules\n                  </FormLabel>\n                  <FormControl>\n                    <Textarea\n                      placeholder=\"e.g.,&#10;1. Be respectful to all members.&#10;2. No spam or self-promotion.&#10;3. Keep discussions relevant to the group's topic.\"\n                      {...field}\n                      data-testid=\"input-rules\"\n                      className=\"bg-muted border-border min-h-32 resize-none\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {/* Add Members */}\n            <div className=\"space-y-3\">\n              <Label className=\"text-foreground font-medium\">Add Members</Label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search for friends to invite\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  data-testid=\"input-search-members\"\n                  className=\"pl-9 bg-muted border-border\"\n                />\n              </div>\n\n              {searchQuery && (\n                <div className=\"space-y-2 max-h-60 overflow-y-auto\">\n                  {filteredUsers.slice(0, 5).map((user) => (\n                    <div\n                      key={user.id}\n                      className=\"flex items-center justify-between p-3 bg-card rounded-lg border border-border\"\n                      data-testid={`member-item-${user.id}`}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <Avatar className=\"w-10 h-10\">\n                          <AvatarImage src={user.avatarUrl || \"\"} />\n                          <AvatarFallback className=\"bg-primary/20 text-primary\">\n                            {user.name.charAt(0)}\n                          </AvatarFallback>\n                        </Avatar>\n                        <span className=\"text-sm font-medium text-foreground\">\n                          {user.name}\n                        </span>\n                      </div>\n                      <Button\n                        type=\"button\"\n                        variant={\n                          selectedMembers.has(user.id) ? \"secondary\" : \"outline\"\n                        }\n                        size=\"sm\"\n                        onClick={() => toggleMemberSelection(user.id)}\n                        data-testid={`button-invite-${user.id}`}\n                        className={\n                          selectedMembers.has(user.id)\n                            ? \"bg-gradient-primary text-white border-0\"\n                            : \"\"\n                        }\n                      >\n                        {selectedMembers.has(user.id) ? \"Invited\" : \"Invite\"}\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Create Group Button */}\n            <Button\n              type=\"submit\"\n              className=\"w-full bg-gradient-primary text-white h-12 text-base font-semibold\"\n              disabled={createGroupMutation.isPending}\n              data-testid=\"button-create-group\"\n            >\n              {createGroupMutation.isPending ? \"Creating...\" : \"Create Group\"}\n            </Button>\n          </form>\n        </Form>\n      </div>\n    </div>\n  );\n}\n","size_bytes":15479}},"version":2}